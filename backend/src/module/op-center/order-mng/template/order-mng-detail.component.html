<fc-notice #notice ot="{{ 'COMMON.CONFIRM' | translate}}" (of)="okClicked()"></fc-notice>

<div class="OrderDetail"> 
	<div class="page-content-header float-left" style="width:1300px;padding-left: 0;">  
	<span>订单编号：{{_detailLoader.FirstItem.instanceCode}}</span>
	<button class="fox-cloud-button fox-cloud-button-green pull-right" style="margin-top:-10px;" (click)="back()"><span>返回订购管理</span></button>
	</div>
	<div class="page-content">
		<div class="noborder form-control-title float-left mgb10">基本信息</div>
		<div class="table-container mgb20 noBorder">
			<table class="table table-bordered first-table mgb20 text-left ">
				<tbody>
					<tr>
						<td>已购服务编号</td>	
						<td>{{_detailLoader.FirstItem.instanceCode}}</td>
						<td>状态</td>
						<td>{{_detailLoader.FirstItem.status | dict:_dictServ.getDic('SUBINSTANCE', 'STATUS') | async}}</td>
					</tr>
					<tr>
						<td>产品类型</td>
						<td>{{_detailLoader.FirstItem.productType | dict:_dictServ.getDic('GLOBAL', 'SERVICE_TYPE') | async}}</td>	
						<td>区域/可用区</td>
						<td>{{_detailLoader.FirstItem.zone}}</td>
					</tr>
					<tr>
						<td>当前配置</td>
						<td>{{_detailLoader.FirstItem.specification}}</td>	
						<td>创建时间</td>
						<td>{{_detailLoader.FirstItem.createDate}}</td>
					</tr>
					<tr>
						<td>计费模式</td>
						<td>{{_detailLoader.FirstItem.billingMode | dict:_dictServ.getDic('BILLING_MODE', 'TYPE') | async}}</td>	
						<td>到期时间</td>
						<td>{{_detailLoader.FirstItem.expireDate}}</td>
					</tr>
					<tr>
						<td>一次性费用</td>
						<td>{{_detailLoader.FirstItem.oneTimePrice}}</td>	
						<td>订购人</td>
						<td>{{_detailLoader.FirstItem.buyer}}</td>
					</tr>
					<tr>
						<td>费用</td>	
						<td>{{_detailLoader.FirstItem.price}}</td>
						<td>部门</td>
						<td>{{_detailLoader.FirstItem.department}}</td>
					</tr>
					<tr>
						<td>实例名称</td>	
						<td>{{_detailLoader.FirstItem.instanceName}}</td>
						<td>企业</td>
						<td>{{_detailLoader.FirstItem.enterprise}}</td>
					</tr>				
				</tbody>
			</table>
		</div>
		
		<div class="noborder form-control-title float-left mgb10">关联的已订购服务列表</div>
		<div class="table-container mgb20 noBorder">
			<table class="table table-bordered mgb20">
				<thead>	
					<th class="border-gray">已订购服务编号</th>
					<th class="border-gray">实例名称</th>
					<th class="border-gray">产品类型</th>
					<th class="border-gray">配置</th>
					<th class="border-gray">计费模式</th>
					<th class="border-gray">状态</th>
					<th class="border-gray">费用</th>
					<th class="border-gray">到期时间</th>
							
				</thead>
				<tbody>
					<tr *ngFor="let relatedOrder of _detailLoader.FirstItem.relatedSubInstanceList">
						<td>{{relatedOrder.orderCode}}</td>
						<td>{{relatedOrder.instanceName}}</td>
						<td>{{relatedOrder.productType}}</td>
						<td>{{relatedOrder.specification}}</td>
						<td>{{relatedOrder.billingMode | dict:_dictServ.getDic('BILLING_MODE', 'TYPE') | async}}</td>
						<td class="font-green">{{relatedOrder.status}}</td>
						<td>
							<ul>
								<li>一次性费用：￥{{relatedOrder.oneTimePrice}}</li>
								<li>费用：￥{{relatedOrder.price}}/G/小时</li>
							</ul>
						</td>
						<td>{{relatedOrder.expireDate}}</td>
					</tr>
				</tbody>
			</table>
		</div>	


		<div class="noborder form-control-title float-left mgb10">历史信息</div>
		<div class="table-container mgb20 noBorder">
			<table class="table table-bordered mgb20">
				<thead>	
					<th>日期</th>
						<th>实例名称</th>
						<th>实例类型</th>
						<th>配置</th>
						<th>操作者</th>
						<th>所属部门</th>
						<th>到期时间</th>
						<th>说明</th>
							
				</thead>
				<tbody>
					<tr *ngFor="let historyItem of _detailLoader.FirstItem.relatedOrderList">
						<td>{{historyItem.createDate}}</td>
						<td>{{historyItem.instanceName}}</td>
						<td>{{historyItem.productType | dict:_dictServ.getDic('GLOBAL', 'SERVICE_TYPE') | async}}</td>
						<td>{{historyItem.specification}}</td>
						<td>{{historyItem.buyer}}</td>
						<td>{{historyItem.department}}</td>
						<td>{{historyItem.expireDate}}
						</td>
						<td>{{historyItem.description}}</td>
					</tr>
				</tbody>
			</table>
		</div>				
	</div>					
</div>