<div class="page-content-header icon-create-product">{{'PROD_MNG.CREATE_PRODUCT'| translate}}</div>
<!--创建产品-->
<div class="page-content">
    <div class="row navigator-progress">
        <div class="col-md-3"><span class="mark">1</span><span>{{'COMMON.BASIC_INFO'|translate}}<!--基本信息--></span><span class="icon-tick"></span></div>
        <div class="col-md-3 active"><span class="mark">2</span><span>{{'PROD_MNG.COUNT_MODE'|translate}}<!--资源同步--></span></div>
        <div class="col-md-3"><span class="mark">3</span><span>{{'PROD_MNG.SELECT_RESOURCE_POOL' | translate}}</span></div>
        <div class="col-md-3"><span class="mark">4</span><span>{{'NET_MNG_VM_DBT_PORT.SELECT_ENTERPRISE'|translate}}</span></div>
    </div>
    <div class="step-progress">
        <div class="fox-cloud-progress-rectangle progress-striped">
            <div class="progress-bar fox-cloud-progress-bar-rectangle" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"
                style="width: 50%;">
            </div>
        </div>
    </div>
    <div class="row" style="padding-top: 30px;">
        <div class="col-md-12">
            <div class="row row-line-height">
                <div class="form-group">
                    <div class="col-sm-4 form-control-title"><span class="asterisk">*</span>{{'PROD_MNG.COUNT_MODE' | translate}}：</div>
                    <div class="col-sm-6 row-inline-radio">
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="radio-inline row-inline-radio2 font-gray">
                            		<input type="radio" name="billingTypeRadios" checked=true class="fox-cloud-radio" > {{'PROD_MNG.BY_YEAR_BY_MONTH' | translate}}<!--包年包月-->
                       			</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row row-line-height">
                <div class="form-group">
                    <div class="col-sm-4 form-control-title"><span class="asterisk">*</span>{{'COMMON.COUNT_CYCLE' | translate}}：</div>
                    <!--计费周期-->
                    <div class="col-sm-6 row-inline-radio">
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="row">
                                    <div class="col-sm-6">
                                        <label class="radio-inline row-inline-radio4 font-gray" style="width:60%">
                           				<input type="radio" name="inlineRadioOption"  value="5" class="fox-cloud-radio" [(ngModel)]="service.product.billingCycle"  (click)="service.product.billingCycleClick=true;"> {{'COMMON.BY_YEAR' | translate}}<!--包年-->
                       				</label>
                                    </div>
                                    <div class="col-sm-6">
                                        <label class="radio-inline row-inline-radio4 font-gray" style="width:60%">
                           				<input type="radio" name="inlineRadioOption"  value="3" class="fox-cloud-radio" [(ngModel)]="service.product.billingCycle" (click)="service.product.billingCycleClick=true;"> {{'COMMON.BY_MONTH' | translate}}<!--包月-->
                       				</label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="row">
                                    <div class="col-sm-6">
                                        <label class="radio-inline row-inline-radio4 font-gray" style="width:60%">
                           				<input type="radio" name="inlineRadioOption"  value="1" class="fox-cloud-radio" [(ngModel)]="service.product.billingCycle" (click)="service.product.billingCycleClick=true;"> {{'COMMON.BY_DAY' | translate}}
                       				</label>
                                    </div>
                                    <div class="col-sm-6">
                                        <label class="radio-inline row-inline-radio4 font-gray" style="width:100%">
                           				<input type="radio" name="inlineRadioOption"  value="0" class="fox-cloud-radio" [(ngModel)]="service.product.billingCycle" (click)="service.product.billingCycleClick=true;"> {{'COMMON.BY_HOUR' | translate}}
                       				</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div>
                <div class="row row-line-height">
                    <div class="form-group">
                        <div class="col-sm-4 form-control-title">{{'PROD_MNG.BASIC_CYCLE_PRICE' | translate}}：</div>
                        <!--基础周期价格-->
                        <div class="col-sm-6">
                            <count-bar [default]=0 [step]=10 [decimal]=true [max]=200000 [min]=0 [disabled]=false [value]="service.product.basicCyclePrice||0" #basicCyclePrice (output)="outputValue($event,'basicCyclePrice')"></count-bar>
                        </div>
                    </div>
                </div>
                <div class="row row-line-height">
                    <div class="form-group">
                        <div class="col-sm-4 form-control-title">{{'PROD_MNG.INCREMENT_CYCLE_PRICE' | translate}}：</div>
                        <div class="col-sm-6">
                            <count-bar [default]=0 [step]=10 [decimal]=true [max]=200000 [min]=0 [disabled]=false [value]="service.product.extendCyclePrice||0" #extendCyclePrice (output)="outputValue($event,'extendCyclePrice')"></count-bar>
                        </div>
                    </div>
                </div>
                <div class="row row-line-height">
                    <div class="form-group">
                        <div class="col-sm-4 form-control-title">
                            {{'PROD_MNG.ONE_TIME_PRICE' | translate}}：
                            <!--一次性价格-->
                        </div>
                        <div class="col-sm-6">
                            <count-bar [default]=0 [step]=10 [decimal]=true [max]=200000 [min]=0 [disabled]=false [value]="service.product.oneTimePrice||0" #oneTimePrice (output)="outputValue($event,'oneTimePrice')"></count-bar>
                        </div>
                    </div>
                </div>
            </div>
			<div class="row row-line-height">
				<div class="form-group">
					<div class="col-sm-4 form-control-title"><span class="asterisk">*</span>附加部件：</div>
					<div class="col-sm-4">
						<div style="border:1px solid #cfd8e7">
							<table class="table table-hover">
								<thead>
									<tr>
										<th style="width:20%">
											{{"部件名称"}}
										</th>
										<th style="width:15%">{{'规格' | translate}}</th>
										<th style="width:15%">{{'规格值' | translate}}</th>
										<th style="width:20%">{{'基础周期价格' | translate}}</th>
										<th style="width:30%"></th>
									</tr>
								</thead>
								<tbody>
									<tr *ngFor="let unit of service.product.pmPartsBaseprises; let idx = index;">
										<td>
											{{unit.partsName}}
										</td>
										<td>{{unit.specName}}</td>
										<td>
                                            {{unit.specValue}}
                                            <span *ngIf="unit.partsName=='内存'||unit.partsName=='磁盘'">GB</span>
                                        </td>
										<td [ngClass]="{'has-error':!unit.priceValid}">
                                            <span *ngIf="!unit.isEdit">{{unit.ajustmentPrice}}</span>                                           
                                            <input *ngIf="unit.isEdit" class="form-control" type="number"  min=0 [(ngModel)]="unit.temPrice" (ngModelChange)="adjustUnitPrice(unit)" name="temPrice" style="height:20px">                                            
                                        </td>										
										<td>
                                            <span *ngIf="!unit.isEdit" class="glyphicon glyphicon-edit pointer" (click)="unit.isEdit=true;unit.temPrice=unit.ajustmentPrice"></span>
                                            <span *ngIf="unit.isEdit" class="glyphicon glyphicon-floppy-remove pointer" (click)="unit.isEdit=false;unit.temPrice=unit.ajustmentPrice"></span>
                                            <span *ngIf="unit.isEdit" class="glyphicon glyphicon-floppy-saved pointer mgl10" (click)="saveUnitPrice(unit)"></span>
                                            <!--<button *ngIf="unit.isEdit" class="fox-cloud-button-md fox-cloud-button-white" (click)="unit.isEdit=false;unit.referencePrice=unit.temPrice">{{'COMMON.SAVE' | translate}}</button>-->
                                            <!--<button *ngIf="unit.isEdit" class="fox-cloud-button-md fox-cloud-button-white" (click)="unit.isEdit=false;unit.temPrice=unit.referencePrice">{{'COMMON.CANCEL' | translate}}</button>-->
                                        </td>
									</tr>									
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>					
        </div>
    </div>
</div>
<div class="text-center mgt30">
    <button class="fox-cloud-button-lg fox-cloud-button-white" (click)="cancel();">
        <span class="icon-button-label">{{'COMMON.CANCEL'|translate}}</span>
    </button>
    <button class="fox-cloud-button-lg fox-cloud-button-white mgl20" (click)="previous();">
        <span class="icon-button-label">{{'COMMON.PREVIOUS'|translate}}</span>
    </button>
    <button class="fox-cloud-button-lg fox-cloud-button-white mgl20" (click)="next();">
        <span class="icon-button-label">{{'COMMON.NEXT'|translate}}</span>
    </button>
</div>
<fc-notice #notice title="{{title}}" msg="{{msg}}" ot="HOST_VMWARE_MNG.CONFIRM"></fc-notice>