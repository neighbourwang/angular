<div class="page-content-header icon-content-header-purchasing">创建产品</div>
<div class="page-content fix-page-content">
	<div class="row" style="padding-top: 30px;">
		<div class="col-md-12">
			<div class="row row-line-height">
				<div class="form-group">
					<div class="col-sm-4 form-control-title"><span class="asterisk">*</span>产品名称：</div>
					<div class="col-sm-4">
						<input type="text" class="form-control" [(ngModel)]="product.name" placeholder="产品名称">
					</div>
				</div>
			</div>
			<div class="row row-line-height">
				<div class="form-group">
					<div class="col-sm-4 form-control-title"><span class="asterisk">*</span>产品目录：</div>
					<div class="col-sm-4">
						<select class="form-control" [(ngModel)]="prodDirId" (change)="selectProdDir(prodDirId)">
                            <option *ngFor="let prodDir of prodDirList;" [value]="prodDir.id">{{prodDir.name}}</option>
                        </select>
					</div>
				</div>
			</div>
			<div class="row row-line-height">
				<div class="form-group">
					<div class="col-sm-4 form-control-title"></div>
					<div class="col-sm-4 row-line-child font-gray">
						<div class="">CPU</div>
						<div class="mid-line-child border-gray">{{prodDir.specification.vcpu}}</div>
						<div class="last-line-child">核（vCPU）</div>
					</div>
				</div>
			</div>
			<div class="row row-line-height">
				<div class="form-group">
					<div class="col-sm-4 form-control-title"></div>
					<div class="col-sm-4 row-line-child font-gray">
						<div class="">内存</div>
						<div class="mid-line-child border-gray">{{prodDir.specification.mem}}</div>
						<div class="last-line-child">兆（MB）</div>
					</div>
				</div>
			</div>
			<div class="row row-line-height">
				<div class="form-group">
					<div class="col-sm-4 form-control-title"></div>
					<div class="col-sm-4 row-line-child font-gray">
						<div class="">启动盘大小</div>
						<div class="mid-line-child border-gray">{{prodDir.specification.startupDisk}}</div>
						<div class="last-line-child">GB</div>
					</div>
				</div>
			</div>
			<div class="row row-line-height">
				<div class="form-group">
					<div class="col-sm-4 form-control-title">描述：</div>
					<div class="col-sm-4">
						<textarea class="form-control" rows="4" placeholder="描述"></textarea>
					</div>
				</div>
			</div>
			<div class="row row-line-height">
				<div class="form-group">
					<div class="col-sm-4 form-control-title"><span class="asterisk">*</span>计费模式：</div>
					<div class="col-sm-4 row-inline-radio">
						<label class="radio-inline row-inline-radio2 ">
                            <input type="radio" name="billingTypeRadios"  class="fox-cloud-radio" (click)="changeBillingStyle('0')"> 包年包月
                        </label>
						<label class="radio-inline row-inline-radio2">
                            <input type="radio" name="billingTypeRadios"  class="fox-cloud-radio" (click)="changeBillingStyle('1')"> 按量
                        </label>
					</div>
				</div>
			</div>
			<div class="row row-line-height">
				<div class="form-group">
					<div class="col-sm-4 form-control-title"><span class="asterisk">*</span>计费周期：</div>
					<div class="col-sm-4 row-inline-radio">
						<label class="radio-inline row-inline-radio4">
                            <input type="radio" name="inlineRadioOption"  value="5" class="fox-cloud-radio" [(ngModel)]="product.billingCycle"> 包年
                        </label>
						<label class="radio-inline row-inline-radio4">
                            <input type="radio" name="inlineRadioOption"  value="3" class="fox-cloud-radio" [(ngModel)]="product.billingCycle"> 包月
                        </label>
						<label class="radio-inline row-inline-radio4">
                            <input type="radio" name="inlineRadioOption"  value="1" class="fox-cloud-radio" [(ngModel)]="product.billingCycle"> 按天
                        </label>
						<label class="radio-inline row-inline-radio4">
                            <input type="radio" name="inlineRadioOption"  value="0" class="fox-cloud-radio" [(ngModel)]="product.billingCycle"> 按小时
                        </label>
					</div>
				</div>
			</div>
			<div class="row row-line-height">
				<div class="form-group">
					<div class="col-sm-4 form-control-title">基础周期价格：</div>
					<div class="col-sm-2 form-control-title">
						<count-bar [config]="basicCyclePriceBar" (output)="outputValue($event,'basicCyclePrice')"></count-bar>
					</div>
					<div class="col-sm-2 form-control-title">单位价格：</div>
					<div class="col-sm-1 form-control-title">
						<count-bar [config]="unitPriceBar" (output)="outputValue($event,'unitPrice')"></count-bar>
					</div>
				</div>
			</div>
			<div class="row row-line-height">
				<div class="form-group">
					<div class="col-sm-4 form-control-title">增量周期价格：</div>
					<div class="col-sm-2">
						<count-bar [config]="extendCyclePriceBar" (output)="outputValue($event,'extendCyclePrice')"></count-bar>
					</div>
					<div class="col-sm-2 form-control-title">一次性价格：</div>
					<div class="col-sm-1">
						<count-bar [config]="oneTimePriceBar" (output)="outputValue($event,'oneTimePrice')"></count-bar>
					</div>
				</div>
			</div>
			<div class="row row-line-height">
				<div class="form-group">
					<div class="col-sm-4 form-control-title">选择可用平台：</div>
				</div>
			</div>
			<div class="row row-line-height">
				<div class="col-sm-3"></div>
				<div class="col-sm-6 border selectPlateForm">
					<div class="row  tabHeader row-line-height">
						<div class="col-sm-4">平台名称</div>
						<div class="col-sm-4 ">
							可用区
						</div>
						<div class="col-sm-4" style="text-align: left">
							<input type="checkbox" class="fox-cloud-checkbox" (click)="selectAllZones()">
						</div>
					</div>
					<div class="row tabBody" *ngFor="let plateform of this.prodDir.platformInfo; let idx=index">
						<div class="col-sm-4 oneChild">
							<p>{{plateform.platformName}}<br>（openStack）</p>
						</div>
						<div class="col-sm-4 secondChild wyLine-height">
							<div class="row" *ngFor="let zone of plateform.zoneList">
								<div class="col-sm-12">{{zone.zoneName}}</div>
							</div>

						</div>
						<div class="col-sm-4 thirdChild">
							<div class="row row-line-height inputLeft" *ngFor="let zone of plateform.zoneList; let idxx=index">
								<div class="col-sm-12">
									<input type="checkbox" class="fox-cloud-checkbox" selected="zone.selected" [(ngModel)]="zone.selected" name="zoneSelected"
										(click)="selectZone(idx,idxx)">
								</div>
							</div>

						</div>
					</div>

				</div>
				<div class="col-sm-3"></div>
			</div>
			<div class="row row-line-height">
				<div class="form-group">
					<div class="col-sm-4 form-control-title"><span class="asterisk">*</span>选择企业：</div>

				</div>
			</div>
			<div class="row row-line-height">
				<div class="col-sm-3"></div>
				<div class="col-sm-6 selectEnt">
					<div class="row row-line-height entup">
						<div class="col-sm-5 entHeader">
                            全部企业
						</div>
						<div class="col-sm-2"></div>
						<div class="col-sm-5 entHeader">
						    选中的企业
						</div>
					</div>
                    <div class="row row-line-height entdown">
						<div class="col-sm-5 entBody" >
                            <div *ngFor="let ent1 of mokupenterList; let i=index" >
                                <span class="span1">{{ent1.name}}</span>
                                 <input type="checkbox" class="fox-cloud-checkbox" [(ngModel)]="ent1.selected" (click)="selectEnterprise(ent1,i)">          
                            </div>							
						</div>
						<div class="col-sm-2"></div>
						<div class="col-sm-5 entBody" >
							<div *ngFor="let ent2 of product.productEnterpiseReqs">
                                <span class="span2">{{ent2.name}}</span>
                            </div>
						</div>
					</div>
				</div>
				<div class="col-sm-3"></div>
			</div>
			<div class="row row-line-height">
				<div class="col-sm-3"></div>
				<div class="col-sm-6">
					
				</div>
				<div class="col-sm-3"></div>
			</div>
		</div>
	</div>
</div>
<div class="text-center">
	<button class="fox-cloud-button-lg fox-cloud-button-white" (click)="cancel();">
        <span class="icon-button-label">取消</span>
    </button>
	<button class="fox-cloud-button-lg fox-cloud-button-white" (click)="onSubmit();">
        <span class="icon-button-label">创建产品</span>
    </button>
</div>

<fc-notice #notice title="{{title}}" msg="{{msg}}" ot="确认"></fc-notice>

<fc-confirm #confirm title="{{title}}" msg="{{msg}}" ot="确认" (of)="cof()" ct="取消"></fc-confirm>