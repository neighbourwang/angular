<div class="page-content-header icon-content-header-platform-manage">{{"PF_MNG2.CREATE_PLATFORM" | translate}}<!--创建平台--></div>
<div class="page-content fix-page-content">
    <div class="row navigator-progress">
        <div class="col-md-2 active"><span class="mark">1</span><span>{{"PF_MNG2.BASIC_INFO" | translate}}<!--基本信息--></span><span class="icon-tick"></span></div>
        <div class="col-md-2 active"><span class="mark">2</span><span>{{"PF_MNG2.RESOURCE_SYNC" | translate}}<!--资源同步--></span><span class="icon-tick"></span></div>
        <div class="col-md-2 active"><span class="mark">3</span><span>{{"PF_MNG2.AVAILABLE_ZONE_CONFIGURATION" | translate}}</span></div>
        <div class="col-md-2"><span class="mark">4</span><span>{{"PF_MNG2.STORAGE_CONFIGURATION" | translate}}</span></div>
        <div class="col-md-2"><span class="mark">5</span><span>{{"PF_MNG2.CLOUD_HOST_SPECIFICATIONS" | translate}}</span></div>
        <div class="col-md-2"><span class="mark">6</span><span>{{"PF_MNG2.IMAGE_CONFIGURATION" | translate}}</span></div>
    </div>
    <div class="step-progress">
        <div class="fox-cloud-progress-rectangle progress-striped">
            <div class="progress-bar fox-cloud-progress-bar-rectangle" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 49.98%;">
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-1"></div>
        <div class="col-md-10 table-container no-padding">
            <table *ngIf="platformType=='2'" class="table table-hover" style="">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>DC</th>
                        <th>{{"PF_MNG2.AVAILABLE_ZONE_NAME" | translate}}</th>
                        <th>{{"CAPACITY_MNG.DISPLAY_NAME" | translate}}</th>
                        <th>{{"PF_MNG2.NUMBER_OF_HOSTS" | translate}}</th>
                        <th>{{"CAPACITY_MNG.PHYSICAL_CPU_CORE_NUMBER" | translate}}</th>
                        <th>{{"CAPACITY_MNG.TOTAL_MEMORY" | translate}}(MB)</th>
                        <th style="width:10%">{{"CAPACITY_MNG.CPU_EXCEEDING_RATIO" | translate}}</th>
                        <th style="width:10%">{{"COMMON.QUOTA" | translate}}%</th>
                        <th style="width:30%">{{"COMMON.COMMENT" | translate}}</th>
                    </tr>
                </thead>
                <tbody>
                     <tr *ngFor="let item of creStep3Model; let idx = index;">
                        <td>{{idx + 1}}</td>
                        <td >
                            <p *ngFor="let dcOrRegion of item.dcOrRegion" style="padding:0;margin-bottom: 0">{{dcOrRegion}}</p>
                            </td>
                        <td>{{item.name}}</td>
                        <td>
                             <div [ngClass]="{'has-error':!item.displayNameValid}">
                                <input type="text" class="form-control" [(ngModel)]="item.displayName"  required (blur)="displayNameVa(item)" (focus)="item.displayNameValid=true"/>                               
                            </div>
                        </td>
                        <td>{{item.hostNum||0}}</td>
                        <td>{{item.vcpunum||0}}</td>
                        <td>{{item.memSize||0}}</td>
                        <td>
                            <div [ngClass]="{'has-error':!item.exceedPercentageValid}">
                                <input type="number" #exceedPercentage name="exceedPercentage" class="form-control" required min="1" max="9" [(ngModel)]="item.exceedPercentage" (blur)="exceedPercentageVa(item)" (focus)="item.exceedPercentageValid=true">
                            </div>
                        </td>
                        <td>
                            <div [ngClass]="{'has-error':!item.quotaPercentDisplayValid}">
                                <input type="number" class="form-control" [(ngModel)]="item.quotaPercentDisplay" min="0" max="100" (blur)="quotaPercentDisplayVa(item)" (focus)="item.quotaPercentDisplayValid=true">
                            </div>
                        </td>
                        <td><input type="text" class="form-control" [(ngModel)]="item.description"></td>
                    </tr>
 
                </tbody>
            </table>
            <table *ngIf="platformType=='0'" class="table table-hover">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Region</th>
                        <th>{{"PF_MNG2.AVAILABLE_ZONE_NAME" | translate}}</th>
                        <th>{{"CAPACITY_MNG.DISPLAY_NAME" | translate}}</th>
                        <th>{{"PF_MNG2.NUMBER_OF_HOSTS" | translate}}</th>
                        <th>{{"CAPACITY_MNG.PHYSICAL_CPU_CORE_NUMBER" | translate}}</th>
                        <th>{{"CAPACITY_MNG.TOTAL_MEMORY" | translate}}(MB)</th>
                        <th style="width:10%">{{"CAPACITY_MNG.CPU_EXCEEDING_RATIO" | translate}}</th>
                        <th style="width:10%">{{"COMMON.QUOTA" | translate}}%</th>
                        <th style="width:30%">{{"COMMON.COMMENT" | translate}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of creStep3Model; let idx = index;">
                        <td>{{idx + 1}}</td>
                        <td >{{item.dcOrRegion}}</td>
                        <td>{{item.name}}</td>
                        <td>
                            <div [ngClass]="{'has-error':!item.displayNameValid}">
                                <input type="text" class="form-control" [(ngModel)]="item.displayName"  required (blur)="displayNameVa(item)" (focus)="item.displayNameValid=true"/>                               
                            </div>
                        </td> 
                        <td>{{item.hostNum||0}}</td>
                        <td>{{item.vcpunum||0}}</td>
                        <td>{{item.memSize||0}}</td>
                        <td>
                            <div [ngClass]="{'has-error':!item.exceedPercentageValid}">
                                <input type="number" #exceedPercentage name="exceedPercentage" class="form-control" required min="1" max="9"[(ngModel)]="item.exceedPercentage" (blur)="exceedPercentageVa(item)" (focus)="item.exceedPercentageValid=true">
                            </div>
                        </td>
                        <td>
                            <div [ngClass]="{'has-error':!item.quotaPercentDisplayValid}">
                                <input type="number" class="form-control" [(ngModel)]="item.quotaPercentDisplay" min="0" max="100" (blur)="quotaPercentDisplayVa(item)" (focus)="item.quotaPercentDisplayValid=true">
                            </div>
                        </td>
                        <td><input type="text" class="form-control" [(ngModel)]="item.description"></td>
                    </tr>                   
                </tbody>
            </table>
        </div>
        <div class="col-md-1"></div>
    </div>
</div>
<div class="text-center">
    <button class="fox-cloud-button-lg fox-cloud-button-white" (click)="cancel();">
        <span class="icon-button-label">{{"COMMON.RETURN" | translate}}</span>
    </button>
    <button class="fox-cloud-button-lg fox-cloud-button-white mgl20" (click)="previous();">
        <span class="icon-button-label">{{"COMMON.PREVIOUS" | translate}}</span>
    </button>
    <button class="fox-cloud-button-lg fox-cloud-button-white mgl20" (click)="next();">
        <span class="icon-button-label">{{"COMMON.NEXT" | translate}}</span>
    </button>
</div>

<fc-notice #notice title="{{title}}" msg="{{msg}}" ot="HOST_VMWARE_MNG.CONFIRM"></fc-notice>

<fc-confirm #confirm title="{{title}}" msg="{{msg}}" ot="HOST_VMWARE_MNG.CONFIRM" (of)="cof()" ct="HOST_VMWARE_MNG.CANCEL" (cf)="ccf()"></fc-confirm>
