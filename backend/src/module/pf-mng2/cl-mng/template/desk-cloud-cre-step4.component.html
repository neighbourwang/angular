<div class="page-content-header icon-content-header-platform-manage">{{"PF_MNG2.CREATE_PLATFORM" | translate}}<!--创建平台--></div>
<div class="page-content fix-page-content">
    <div>
        <progress-bar [state]="4" [step]=4></progress-bar>
    </div>
    <div class="row">
        <div class="col-md-1"></div>
        <div class="col-md-10" style="font-size: 16px;padding-left: 0">
            后端存储( Backends )信息 :
        </div>
    </div>
    <div class="row">
        <div class="col-md-1"></div>
        <div class="col-md-10 table-container no-padding">
            <table class="table table-hover" *ngIf="platformType=='0'">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>{{"COMMON.NAME" | translate}}</th>
                        <th style="width:25%">{{"CAPACITY_MNG.DISPLAY_NAME" | translate}}</th>
                        <th>{{"CAPACITY_MNG.STORAGE_TYPE" | translate}}</th>
                        <th>{{"CAPACITY_MNG.TOTAL_CAPACITY" | translate}}</th>
                        <th style="width:7%">{{"CAPACITY_MNG.COPIES" | translate}}</th>
                        <th style="width:100px">{{"COMMON.QUOTA" | translate}}%</th>
                        <th style="width:25%">{{"COMMON.COMMENT" | translate}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of creStep4Model; let idx = index;">
                        <td>{{idx + 1}}</td>
                        <td>{{item.name}}</td>
                        <td><input type="text" class="form-control" [(ngModel)]="item.displayName" required></td>
                        <td>{{item.typeDisplayName}}</td>
                        <td>{{item.maximum||0}}</td>
                        <td>
                            <input type="number" class="form-control" required [(ngModel)]="item.replica" style="width: 100px; display: inline;" min="0" max="9">
                        </td>
                        <td>
                            <input type="number" class="form-control"  required [(ngModel)]="item.quotaPercentDisplay" style=" display: inline;" min="0" max="100">
                        </td>
                        <td >
                            <input type="text" class="form-control" [(ngModel)]="item.description" style=" display: inline;" >
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-hover mgt20" *ngIf="platformType=='2'">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>{{"COMMON.NAME" | translate}}</th>
                        <th>{{"CAPACITY_MNG.DISPLAY_NAME" | translate}}</th>
                        <th>DC/{{"CAPACITY_MNG.AVAILABLE_ZONE_INFO" | translate}}</th>                        
                        <th>{{"CAPACITY_MNG.STORAGE_TYPE" | translate}}</th>
                        <th>{{"CAPACITY_MNG.TOTAL_CAPACITY" | translate}}</th>
                        <th>{{"CAPACITY_MNG.COPIES" | translate}}</th>
                        <th style="width:100px">{{"COMMON.QUOTA" | translate}}%</th>
                        <th style="width:25%">{{"COMMON.COMMENT" | translate}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of creStep4Model; let idx = index;">
                        <td>{{idx + 1}}</td>
                        <td>{{item.name}}</td>
                        <td><input type="text" class="form-control" [(ngModel)]="item.displayName" required></td>
                        <td>
                            <p style="margin:0" *ngFor="let name of item.clusterAndDc">{{name.dcName+"--"+name.zoneName}}</p>
                        </td>                        
                        <td>{{item.typeDisplayName}}</td>
                        <td>{{item.maximum||0}}</td>
                        <td>
                            <input type="number" class="form-control" required min="0"    [(ngModel)]="item.replica" style="width: 100px; display: inline;" (blur)="keepSame(item)">
                        </td>
                        <td>
                            <input type="number" class="form-control" required min="0" max="100" [(ngModel)]="item.quotaPercentDisplay" [class.border-error]="!item.valid" (blur)="keepSame(item)" style=" display: inline;">
                        </td>
                        <td >
                            <input type="text" class="form-control" [(ngModel)]="item.description" style=" display: inline;" >
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="col-md-1"></div>
    </div>
    <div class="row mgt30" *ngIf="platformType=='0'">
        <div class="col-md-1"></div>
        <div class="col-md-10" style="font-size: 16px;padding-left: 0">
            卷类型( Volume Type )信息 :
        </div>
    </div>
    <div class="row">
        <div class="col-md-1"></div>
        <div class="col-md-10 table-container no-padding">
            <table class="table table-hover" *ngIf="platformType=='0'">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>{{"COMMON.NAME" | translate}}</th>
                        <th style="width:25%">{{"CAPACITY_MNG.DISPLAY_NAME" | translate}}</th>
                        <th>Volume_backend_name</th>
                        <th style="width: 25%">{{"COMMON.COMMENT" | translate}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of volumeTypeList; let idx = index;">
                        <td>{{idx + 1}}</td>
                        <td>{{item.name}}</td>
                        <td>
                            <input  class="form-control"  [(ngModel)]="item.displayName" style="display: inline;">
                        </td>
                        <td>{{item.volumeBackendName}}</td>
                        <td>
                            <input  class="form-control" [(ngModel)]="item.description" style="display: inline;">
                        </td>                        
                    </tr>
                </tbody>
            </table>            
        </div>
        <div class="col-md-1"></div>
    </div>
</div>
<div class="text-center">
    <button class="fox-cloud-button-lg fox-cloud-button-white" (click)="cancel();">
        <span class="icon-button-label">{{"COMMON.RETURN" | translate}}</span>
    </button>
    <button class="fox-cloud-button-lg fox-cloud-button-white mgl20" (click)="previous();">
        <span class="icon-button-label">{{"COMMON.PREVIOUS" | translate}}</span>
    </button>
    <button class="fox-cloud-button-lg fox-cloud-button-white mgl20" (click)="next();">
        <span class="icon-button-label">{{"COMMON.ENABLE" | translate}}</span>
    </button>
</div>

<fc-notice #notice title="{{title}}" msg="{{msg}}" ot="HOST_VMWARE_MNG.CONFIRM"></fc-notice>


<fc-confirm #confirm title="{{title}}" msg="{{msg}}" ot="HOST_VMWARE_MNG.CONFIRM" (of)="cof()" ct="HOST_VMWARE_MNG.CANCEL" (cf)="ccf()"></fc-confirm>
