<div class="page-content-header icon-content-header-userCenterOn">{{title}}</div>
<div class="page-content" style=min-height:300px>
    <div class="row" style="padding-top: 30px;">
        <div class="col-md-12">
            <form #accountForm="ngForm" (ngSubmit)="onSubmit()">
                <div class="row row-line-height">
                    <div class="form-group">
                        <div class="col-sm-4 form-control-title">
                            <span class="asterisk">*</span> 姓名
                        </div>
                        <div class="col-sm-4" [ngClass]="{'has-error': userName.errors && (userName.dirty || userName.touched)}">
                            <input type="text" class="form-control" placeholder="请输入姓名" [(ngModel)]="account.userName" id="userName" required name="userName" #userName="ngModel">
                            <div *ngIf="userName.errors && (userName.dirty || userName.touched)" class="alert alert-danger" style="height:34px;padding:0px;margin:0px;line-height:34px;padding-left:10px">
                                <div [hidden]="!userName.errors.required">
                                    姓名不能为空
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row row-line-height">
                    <div class="form-group">
                        <div class="col-sm-4 form-control-title">
                            <span class="asterisk">*</span> 帐号
                        </div>
                        <div class="col-sm-4" [ngClass]="{'has-error': (loginName.errors && (loginName.dirty || loginName.touched))||!loginNameIsOnly}">
                            <input type="text" class="form-control" placeholder="请输入姓名" [disabled]="!isCreate" [(ngModel)]="account.loginName" id="loginName" required name="loginName" (blur)="accountOnlyValid(account.loginName)" #loginName="ngModel">
                            <div *ngIf="loginName.errors && (loginName.dirty || loginName.touched)" class="alert alert-danger" style="height:34px;padding:0px;margin:0px;line-height:34px;padding-left:10px">
                                <div [hidden]="!loginName.errors.required">
                                    账号不能为空
                                </div>
                            </div>
                            <div *ngIf="!loginNameIsOnly" class="alert alert-danger" style="height:34px;padding:0px;margin:0px;line-height:34px;padding-left:10px">
                                <div>
                                    账号{{account.loginName}}已注册，请重新输入账号
                                </div>
                            </div>
                        </div>
                        <!--<div class="col-sm-4">
                            <input type="text" class="form-control" placeholder="请输入帐号" [disabled]="!isCreate" [(ngModel)]="account.loginName" name="loginName" #loginName="ngModel">
                        </div>-->
                    </div>
                </div>

                <div class="row row-line-height">
                    <div class="form-group">
                        <div class="col-sm-4 form-control-title">
                            <span class="asterisk">*</span> 联系电话
                        </div>
                        <div class="col-sm-4" [ngClass]="{'has-error': phone.errors && (phone.dirty || phone.touched)}">
                            <input type="text" class="form-control" placeholder="请输入姓名" [(ngModel)]="account.phone" id="phone" required name="phone" #phone="ngModel" >
                            <div *ngIf="phone.errors && (phone.dirty || phone.touched)" class="alert alert-danger" style="height:34px;padding:0px;margin:0px;line-height:34px;padding-left:10px">
                                <div [hidden]="!phone.errors.required">
                                    电话不能为空
                                </div>
                            </div>
                        </div>
                        <!--<div class="col-sm-4">
                            <input type="text" class="form-control" placeholder="请输入联系电话" [(ngModel)]="account.phone" name="phone" #phone="ngModel">
                        </div>-->
                    </div>
                </div>

                <div class="row row-line-height">
                    <div class="form-group">
                        <div class="col-sm-4 form-control-title">
                            描述
                        </div>
                        <div class="col-sm-4">
                            <textarea type="text" class="form-control" placeholder="请输入联系描述" rows="3" [(ngModel)]="account.description" name="description">
                            </textarea>
                        </div>
                    </div>
                </div>
            </form>
            <div class="row row-line-height">
                <div class="form-group">
                    <div class="col-sm-4 form-control-title">
                    </div>
                    <div class="col-sm-4 checkbox">
                        <label (click)="isLeader()">
                                <input type="checkbox" > 是否机构负责人？
                            </label>
                    </div>
                </div>
            </div>

            <div class="row row-line-height">
                <div class="form-group">
                    <div class="col-sm-4 form-control-title">
                        <span class="asterisk">*</span>绑定角色
                    </div>
                    <div class="col-sm-6">

                        <!--<div class="btn-group">
                                <div class="btn-group float-left" data-toggle="buttons">
                                    <label class="btn btn-default" *ngFor="let item of role;let idx=index" style="margin-bottom : 5px " (click)="addRole(item,idx)" [ngClass]="{active: item.selected}">
                                        <input type="checkbox" name="mirror" autocomplete="off" [checked]="item.selected"> {{item.name}}
                                    </label>
                                </div>
                            </div>-->
                        <div class="btn-group">
                            <button type="button" class="btn btn-default" *ngFor="let item of role;let idx=index" (click)="addRole(item,idx)" [ngClass]="{'btn-active': item.selected}">{{item.name}}</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row row-line-height">
                <div class="form-group">
                    <div class="col-sm-4 form-control-title">
                        <span class="asterisk">*</span>绑定机构
                    </div>
                    <div class="col-sm-5">
                        <!--<div style="height:40px;line-hight:36px;font-size:16px" *ngIf="account.organizations.length > 0">
                            {{account.organizations[0].name}}
                        </div>-->

                        <div class="btn-group">
                            <div class="btn-group float-left" data-toggle="buttons">
                                <label class="btn btn-default" *ngFor="let item of org" style="margin-bottom : 5px" (click)="addOrg(item)" [ngClass]="{active: item.selected}">
                                        <input type="radio" name="mirror" autocomplete="off" checked="" > {{item.name}}
                                    </label>
                            </div>
                        </div>
                    </div>
                    <div class="col-ms-1">
                        <button class="fox-cloud-button-md fox-cloud-button-white" style="margin-top:5px" (click)="loadModeOrg()">更多>>></button>
                    </div>
                </div>
            </div>


        </div>
    </div>
</div>
<div class="text-center" style="margin-top:50px">
    <button class="fox-cloud-button-lg fox-cloud-button-white" (click)="cancel()">
            <span class="icon-button-label">取消</span>
        </button>
    <button class="fox-cloud-button-lg fox-cloud-button-white" style="margin-left : 10px" (click)="create()"  [disabled]="!accountForm.form.valid||!loginNameIsOnly">
            <span class="icon-button-label" >{{btnTitle}}</span>
        </button>
</div>
<div style="height:50px"></div>
<fc-notice #notice title="{{title}}" msg="{{msg}}" ot="确认" (of)="nof()"></fc-notice>