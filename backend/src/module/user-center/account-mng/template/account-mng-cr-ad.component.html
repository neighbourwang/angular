<div class="page-content-header icon-content-header-userCenterOn">创建AD用户</div>
<div class="page-content">
    <div class="row" style="padding-top: 30px;">
        <div class="col-md-12">
            <div class="row row-line-height">
                <div class="form-group">
                    <div class="col-sm-4 form-control-title">
                        <span class="asterisk">*</span>
                        姓名
                    </div>
                    
                    <div class="col-sm-4">
                        <input type="text" class="form-control" [(ngModel)]="account.userName" placeholder="请输入姓名">
                    </div>
                    <!--
                    <div class="col-sm-4" [ngClass]="{'has-error': userName.errors && (userName.dirty || userName.touched)}">
                            <input type="text" class="form-control" placeholder="请输入姓名" [(ngModel)]="account.userName" id="userName" required name="userName" #userName="ngModel">
                            <div *ngIf="userName.errors && (userName.dirty || userName.touched)" class="alert alert-danger" style="height:34px;padding:0px;margin:0px;line-height:34px;padding-left:10px">
                                <div [hidden]="!userName.errors.required">
                                    姓名不能为空
                                </div>
                            </div>
                    </div>
                    -->

                </div>
            </div>

            <div class="row row-line-height">
                <div class="form-group">
                    <div class="col-sm-4 form-control-title">
                        <span class="asterisk">*</span>
                        联系电话
                    </div>
                    
                    <div class="col-sm-4">
                        <input type="text" class="form-control" [(ngModel)]="account.phone" placeholder="请输入联系电话">
                    </div>
                    <!--
                    <div class="col-sm-4" [ngClass]="{'has-error': Phone.errors && (Phone.dirty || Phone.touched)}">
                            <input type="text" class="form-control" placeholder="请输入联系电话" [(ngModel)]="account.phone" id="Phone" required name="Phone" #Phone="ngModel">
                            <div *ngIf="Phone.errors && (Phone.dirty || Phone.touched)" class="alert alert-danger" style="height:34px;padding:0px;margin:0px;line-height:34px;padding-left:10px">
                                <div [hidden]="!Phone.errors.required">联系电话不能为空
                                </div>
                            </div>
                    </div>
                    -->

                </div>
            </div>

            <div class="row row-line-height">
                <div class="form-group">
                    <div class="col-sm-4 form-control-title">
                        描述
                    </div>
                    <div class="col-sm-4">
                        <textarea type="text" class="form-control" [(ngModel)]="account.description" placeholder="请输入联系描述" rows="3"></textarea>
                    </div>
                </div>
            </div>
            <!--<div class="row row-line-height" style="display: none;">
                <div class="form-group">
                    <div class="col-sm-4 form-control-title">
                    </div>
                    <div class="col-sm-4 checkbox">
                        <label>
                            <input type="checkbox"  [checked]="account.isLeader" (change)="account.isLeader=$event.target.checked"> 是否部门负责人？
                        </label>
                    </div>
                </div>
            </div>-->
            <div class="row row-line-height">
                <div class="form-group">
                    <div class="col-sm-4 form-control-title">
                        认证源
                    </div>
                    <div class="col-sm-4">
                        <select class="form-control" [(ngModel)]="account.ldapId">
                            <option value="">请选择</option>
                            <option *ngFor="let attest of attests" [value]="attest.id">{{attest.name}}</option>
                        </select>
                    </div>
                        
                </div>
            </div>
            <div class="row row-line-height">
                <div class="form-group">
                    <div class="col-sm-4 form-control-title">
                        AD用户帐号
                    </div>
                    <div class="col-sm-4">
                        <input type="text" class="form-control" [(ngModel)]="filterStr" placeholder="">
                    </div>
                    <div class="col-sm-4">
                        <button class="fox-cloud-button fox-cloud-button-white"  (click)="searchAdUser();">查询</button>
                    </div>
                </div>
            </div>
            <div class="row row-line-height" style="width : 80% ; margin: 10px auto; ">
                <div class="table-container" style="max-height: 300px; overflow-y: scroll;">
                    <table class="table table-hover" >
                        <thead>
                        <tr>
                            <th style="width: 10%;" class="check-box-col">选择</th>
                            <th style="width: 15%;">用户名</th>
                            <th style="width: 15%;">姓名</th>
                            <th style="width: 15%;">邮箱地址</th>
                            <th style="width: 15%;">联系电话</th>
                            <th style="width: 30%;">描述</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr *ngFor="let user of adUsers">
                            <td><input class="fox-cloud-radio" type="radio" name="aduser-list" (change)="account.loginName=user.loginName;" /></td>
                            <td>{{user.loginName}}</td>
                            <td>{{user.userName}}</td>
                            <td>{{user.email}}</td>
                            <td>{{user.phone}}</td>
                            <td>{{user.description}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="row row-line-height" style="margin-top : 20px">
                <div class="form-group">
                    <div class="col-sm-4 form-control-title">
                        绑定角色
                    </div>
                    <div class="col-sm-6">
                        <div class="btn-group pdl5">
                            <div class="btn-group float-left" data-toggle="buttons">
                                <button *ngFor="let role of roles;" title="{{role.name}}" class="btn btn-default fix-width-140 mgt5" [ngClass]="{'active':role.selected}" (click)="role.selected=!role.selected;">
                                    <!--<input type="checkbox" name="role" autocomplete="off" [checked]="role.selected" >--> {{role.name}}
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row row-line-height">
                <div class="form-group">
                    <div class="col-sm-4 form-control-title">
                        绑定机构
                    </div>
                    <div class="col-sm-6">
                        <div class="btn-group pdl5" style="max-height: 300px; overflow: auto;">
                            <div class="btn-group float-left" data-toggle="buttons">
                                <label *ngFor="let org of organizations;" title="{{org.name}}" class="btn btn-default mgt5 fix-width-140" [ngClass]="{'active':org.selected}" (click)="clearSelectedOrg(); org.selected=true;">
                                    <input type="radio" name="org" autocomplete="off" [checked]="org.selected" > {{org.name}}
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        
            
        </div>
    </div>
</div>
 <div class="text-center " style="margin-top:50px">
            <button class="fox-cloud-button-lg fox-cloud-button-white" (click)="cancel()" >
                <span class="icon-button-label" >取消</span>
            </button>
            <button class="fox-cloud-button-lg fox-cloud-button-white" (click)="createAccount()" style="margin-left : 10px">
                <span class="icon-button-label" >创建</span>
            </button>
</div>
<div style="height:50px"></div>
<fc-notice #notice title="{{noticeTitle}}" msg="{{noticeMsg}}" ot="确认"></fc-notice>