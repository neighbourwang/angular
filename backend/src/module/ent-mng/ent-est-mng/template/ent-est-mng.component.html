<div class="page-content-header icon-content-header-purchasing">企业管理</div>
<div class="page-content">
	<div style="padding-bottom: 10px;">
	
		<div class="dropdown pull-right">			
			<button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
			更多操作
			<span class="caret"></span>
			</button>
			<ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
				<li><a (click)="edit()">编辑</a></li>
				<li><a (click)="modifyQuota()">修改配额</a></li>
				<li><a (click)="setupCertInfo()">设置认证</a></li>
				<li><a (click)="setupProduct()">设置产品</a></li>
				<li><a (click)="setupAdmin()">设置管理员</a></li>
				<li><a (click)="enable()">启用</a></li>
				<li><a (click)="disable()">禁用</a></li>
				<li><a (click)="delete()">删除</a></li>
			</ul>
		</div>

				
		<div class="seach_input pull-right">
			<input type="text" class="form-control" style="width: 170px;height:35px;display: inline;" placeholder="搜索" [(ngModel)]="criteria" (click)="search()" />
			<span class="serch-tglyphicon glyphicon-search"></span>
		</div>
		<button class="fox-cloud-button fox-cloud-button-green" (click)="create()">
			<span class="glyphicon glyphicon-edit"></span>
			<span class="icon-button-label icon-left-button-label">创建企业</span>
		</button>
	</div>
	<div class="table-container">
		<table class="table table-hover"> 
			<thead>
				<tr>
					<th class="fristTh">选择</th>
					<th>企业（租户）名称</th>
					<th>主机数量</th>
					<th>云主机配额（个）</th>
					<th>云主机配额使用率</th>
					<th>存储配额（GB）</th>
					<th>存储配额使用率</th>
					<th>快照配额（个）</th>
					<th>产品数量</th>
					<th>订单数量</th>
					<th>状态</th>
					<th>描述</th>
				</tr>
			</thead>
			<tbody>
				<tr *ngFor="let item of entEstMng.items">
					<td>
						<input type="radio" id="radio_" class="radio_" [(ngModel)]="item.checked" value="false">
                        <label for="radio_"></label>
					</td>
					<td>{{item.enterpriseName}}</td>
					<td>{{item.vmNum }}</td>
					<td>{{item.vmQuota }}</td>
					<td>{{item.vmQuotaUsageRate }}</td>
					<td>{{item.storageQuota }}</td>
					<td>{{item.storageQuotaUsageRate  }}</td>
					<td>{{item.snapQuota }}</td>
					<td>{{item.productNum  }}</td>
					<td>{{item.orderNum  }}</td>
					<td>{{item.status}}</td>
					<td>{{item.description}}</td>
				</tr>
			</tbody>
		</table>
	</div>
	<fc-pagination tp={{entEstMng.totalPages}} (pf)="changePage($event)"></fc-pagination>
</div>
<fc-notice #notice ot="确认"></fc-notice>
<!-- 编辑企业 -->
<fc-popup #editEnt ot="确认" ct="取消" title="编辑企业" (of)="acceptEntModify()" (cf)="cancelEntModify()">
	<div class="row row-line-height">
		<div class="form-group">
			<div class="col-sm-4 form-control-title"><span class="asterisk">*</span>名称：</div>
			<div class="col-sm-4">
				<input type="text" class="form-control" placeholder="名称" [(ngModel)]="entEst.BasicInfo.name">
			</div>
		</div>
	</div>
	<div class="row row-line-height">
		<div class="form-group">
			<div class="col-sm-4 form-control-title">描述：</div>
			<div class="col-sm-4">
				<textarea class="form-control" placeholder="描述" rows="4" [(ngModel)]="entEst.BasicInfo.description"></textarea>
			</div>
		</div>
	</div>
</fc-popup>
<!-- 修改配额 -->
<fc-popup #editQuota ot="确认" ct="取消" title="修改配额" (of)="acceptQuotaModify()" (cf)="cancelQuotaModify()">
	<div class="row row-line-height">
		<div class="form-group">
			<div class="col-sm-4 form-control-title"><span class="asterisk">*</span>可创建云主机数量：</div>
			<div class="col-sm-4">
				<input type="text" class="form-control" placeholder="可创建云主机数量" [(ngModel)]="entEst.ResourceQuota.platformVMQuota">
			</div>
		</div>
	</div>
	<div class="row row-line-height">
		<div class="form-group">
			<div class="col-sm-4 form-control-title"><span class="asterisk">*</span>可创建物理机数量：</div>
			<div class="col-sm-4">
				<input type="text" class="form-control" placeholder="可创建物理机数量" [(ngModel)]="entEst.ResourceQuota.physicalMachineQuota">
			</div>
		</div>
	</div>
	<div class="row row-line-height">
		<div class="form-group">
			<div class="col-sm-4 form-control-title"><span class="asterisk">*</span>可使用存储额度：</div>
			<div class="col-sm-4">
				<input type="text" class="form-control" placeholder="可使用存储额度" [(ngModel)]="entEst.ResourceQuota.storageQuota">
			</div>
		</div>
	</div>
	<div class="row row-line-height">
		<div class="form-group">
			<div class="col-sm-4 form-control-title"><span class="asterisk">*</span>可创建快照数量：</div>
			<div class="col-sm-4">
				<input type="text" class="form-control" placeholder="可创建快照数量" [(ngModel)]="entEst.ResourceQuota.snapQuota">
			</div>
		</div>
	</div>
	<div class="row row-line-height">
		<div class="form-group">
			<div class="col-sm-4 form-control-title"><span class="asterisk">*</span>可创建镜像数量：</div>
			<div class="col-sm-4">
				<input type="text" class="form-control" placeholder="可创建镜像数量" [(ngModel)]="entEst.ResourceQuota.imageQuota">
			</div>
		</div>
	</div>
</fc-popup>
<!-- 设置认证 -->
<fc-popup #setupCert ot="确认" ct="取消" title="设置认证"  (of)="acceptCertModify()" (cf)="cancelCertModify()">
	<div class="row row-line-height">
		<div class="form-group">
			<div class="col-sm-4 form-control-title"><span class="asterisk">*</span>URL地址：</div>
			<div class="col-sm-4">
				<input type="text" class="form-control" placeholder="URL地址" [(ngModel)]="entEst.BasicInfo.certUrl">
			</div>
		</div>
	</div>
	<div class="row row-line-height">
		<div class="form-group">
			<div class="col-sm-4 form-control-title"><span class="asterisk">*</span>用户名：</div>
			<div class="col-sm-4">
				<input type="text" class="form-control" placeholder="用户名" [(ngModel)]="entEst.ResourceQuota.contactorName">
			</div>
		</div>
	</div>
	<div class="row row-line-height">
		<div class="form-group">
			<div class="col-sm-4 form-control-title"><span class="asterisk">*</span>密码：</div>
			<div class="col-sm-4">
				<input type="password" class="form-control" placeholder="密码" [(ngModel)]="entEst.ResourceQuota.password">
			</div>
		</div>
	</div>
</fc-popup>