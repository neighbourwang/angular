<h1 class="page-content-header mgb20">帐号管理</h1>
<div class="mgb20" style="overflow : hidden">
	<div class="input-group col-md-2 float-left">
		<input class="form-control" [(ngModel)]="keyword" (keyup.enter)="search()" placeholder="输入帐号信息快速搜索" type="text">
		<div class="input-group-addon" (click)="search()"><span class="glyphicon glyphicon-search"></span></div>
	</div>


	<button class="btn button-confirm float-right" data-toggle="modal" (click)="create()">创建帐号</button>
</div>

<table class="table table-hover mgb20">
	<tbody>
		<tr>
			<!--<th class="text-center" style="width : 5%">选择</th>-->
			<th class="text-center" style="width : 10%">姓名</th>
			<th class="text-center" style="width : 15%">帐号</th>
			<th class="text-center" style="width : 10%">联系电话</th>
			<th class="text-center" style="width : 10%">所属部门</th>
			<th class="text-center" style="width : 10%">角色</th>
			<th class="text-center" style="width : 10%">状态</th>
			<th class="text-center" style="width : 25%">操作</th>
		</tr>
		<tr *ngFor="let account of accounts;let idx = index">
			<!--<td class="text-center"><input name="host-list" type="radio"></td>-->
			<td class="text-center active">{{account.userName}}</td>
			<td class="text-center">{{account.loginName}}</td>
			<td class="text-center">{{account.phone}}</td>
			<td class="text-center">销售</td>
			<td class="text-center">部门负责人</td>
			<td class="text-center">启用</td>
			<td class="text-center">
				<span class="glyphicon glyphicon-edit font-green" (click)="edit(account.id,idx)" style="margin-right : 10px "></span>
				<!--<span class="glyphicon glyphicon-lock font-green" style="margin-right : 10px"></span>-->
				<span class="glyphicon glyphicon-ok-circle font-green" (click)="enable(account.id,idx)" style="margin-right : 10px"></span>
				<span class="glyphicon glyphicon-ban-circle font-orange" (click)="disable(account.id,idx)" style="margin-right : 10px"></span>
				<span class="glyphicon glyphicon-trash font-orange" (click)="delete(account.id,idx)"></span>
			</td>
		</tr>
	</tbody>
</table>


<div class="modal fade" id="crModel" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title" id="myModalLabel">创建帐号</h4>
			</div>
			<div class="modal-body">
				<account-mng-cr-local #crAd></account-mng-cr-local>
				<!--<account-mng-cr-ad #crAd [isEdit]="isEdit"></account-mng-cr-ad>-->
			</div>
			<div class="modal-footer">
				<button type="button" class="btn button-confirm button-size-big" (click)="save()">确定</button>
				<button type="button" class="btn btn-default button-size-big" data-dismiss="modal">取消</button>
			</div>
		</div>
	</div>
</div>

<fc-pagination #pagination tp={{tp}} (pf)="paging($event)"></fc-pagination>
<fc-confirm #confirm title="{{confirmTitle}}" msg="{{confirmMessage}}" (cf)="confirmOk()"></fc-confirm>
<!--<fc-popup #editPassWord title="{{title}}" ot="保存" (of)="otEditPwd()" ct="取消" (cf)="ccf()">
	<table class="cm-table-left">
		<tbody>
			<tr>
				<th class="col-md-1 col-xs-3 text-center">基本信息</th>
				<td>
					<div class="col-md-12 no-padding mgb15" style="height : 35px ; line-height : 35px">
						<div class="col-md-2 content-title" style="text-align : center"><span class="asterisk">*</span>姓名</div>
						<div class="col-md-8 no-padding">
							<input class="form-control" placeholder="请输入姓名" type="text" [(ngModel)]="account.name" name="name">
						</div>
					</div>

					<div class="col-md-12 no-padding mgb15" style="height : 35px ; line-height : 35px">
						<div class="col-md-2 content-title" style="text-align : center"><span class="asterisk">*</span>帐号</div>
						<div class="col-md-8 no-padding">
							<input class="form-control" placeholder="请输入帐号" type="text" [(ngModel)]="account.email" name="email">
						</div>
					</div>

					<div class="col-md-12 no-padding mgb15" style="height : 35px ; line-height : 35px">
						<div class="col-md-2 content-title" style="text-align : center"><span class="asterisk">*</span>电话</div>
						<div class="col-md-8 no-padding">
							<input class="form-control" placeholder="请输入电话" type="text" [(ngModel)]="account.phone" name="phone">
						</div>
					</div>
					<div class="col-md-12 no-padding mgb15" style="height : 60px ; line-height : 35px">
						<div class="col-md-2 content-title" style="text-align : center">描述</div>
						<div class="col-md-8 no-padding">
							<textarea class="form-control" rows="3" placeholder="请输入描述" [(ngModel)]="account.description" name="description"></textarea>
						</div>
					</div>
				</td>
			</tr>
			<tr>
				<th class="col-md-1 col-xs-3 text-center">绑定角色</th>
				<td>
					<label class="radio-inline" style="margin-right : 20px;margin-left: 0 !important;margin-bottom : 15px" *ngFor="let role of roles ;let idx=index ">
                    <input type="radio" class="fox-cloud-radio"   value="role.id" [checked]="account.roles[0].id==role.id" (click)="selectRole(idx)"> 
                    <span>{{role?.name}}</span>
                </label>


				</td>
			</tr>
			<tr>
				<th class="col-md-1 col-xs-3 text-center">绑定部门</th>
				<td>
					<label class="radio-inline" style="margin-right : 20px;margin-left: 0 !important;margin-bottom : 15px">
                    <input type="radio" class="fox-cloud-radio" (click)='selectOrg()' value="option1"> 
                    <span>管理员</span>
                </label>
				</td>
			</tr>
		</tbody>
	</table>
</fc-popup>-->