<div class="page-content cart_list">
	<h1 class="page-content-header mgb20">{{'COMMON.SHOPPING_CART' | translate}}</h1>
	  
	<table class="table table-all-boder mgb20">
		<tr class="table-title">
			<td style="width: 400px" class="text-center">{{'SHOPPING_CART.PRODUCT_INFORMATION' | translate}}</td>
			<td class="text-center">{{'SHOPPING_CART.PRODUCT_TYPE' | translate}}</td>
			<td class="text-center">{{'COMMON.BILLING_MODE'| translate}}</td>
			<td class="text-center">{{'SHOPPING_CART.PURCHASE_CYCLE' | translate}}</td> 
			<td class="text-center">{{'SHOPPING_CART.CHARGE_DETAIL' | translate}}</td>
			<td class="text-center">{{'SHOPPING_CART.QUANTITY' | translate}}</td>
			<td class="text-center">{{'SHOPPING_CART.NOTE' | translate}}</td>
		</tr>
		<tr colspan="7" class="table-gap"></tr>
		<ng-container *ngFor="let cart of cartList;">
		<tr>
			<td colspan="7" class="table-line-head">
				<font class="font-green">{{cart.itemNo}}</font>
				<button (click)="deleteCartList(cart.id)" class="btn button-gray-gradient float-right delete-cart"><span class="icon-delete"></span>{{'SHOPPING_CART.REMOVE_FROM_CART' | translate}}</button>
			</td>
		</tr>
		<tr>
			<td>
				<table class="cart-info">
					<tr *ngFor="let attr of cart.attrList;">
						<td style="width: 150px">{{attr.attrDisplayName}} : </td>
						<td>{{attr.attrDisplayValue}}</td>
					</tr>
				</table>

			</td>
			<td class="text-center table-text-middle">{{cart.serviceType | dict:service.dictProductType | async}}</td>
			<td class="text-center table-text-middle">{{cart.billingMode | dict:service.packageBilling | async}}</td>
			<td class="text-center table-text-middle">{{cart.billingPeriod}}</td>
			<td class="text-center table-text-middle">
				<table class="cart-info">
					<tr>
						<td>{{'COMMON.ONE_TIME_COSTS' | translate}}:</td>
						<td><font class="font-orange">¥{{cart.billingInfo.basePrice}} 元</font></td>
					</tr>
					<tr *ngIf="cart.billingInfo.basicPrice">
						<td>{{'SHOPPING_CART.BASICPRICE' | translate}}:</td>
						<td>
							<font class="font-orange">
							{{'COMMON.$' | translate}}{{cart.billingInfo.basicPrice}} / {{cart.billingInfo.periodType | dict:service.weekly | async}}
							</font>
						</td>
					</tr>
					<tr *ngIf="cart.billingInfo.cyclePrice">
						<td>{{'SHOPPING_CART.INCREMENTAL_CYCLE_COST' | translate}}:</td>
						<td>
							<font class="font-orange">
							{{'COMMON.$' | translate}}{{cart.billingInfo.cyclePrice}}}} / {{cart.billingInfo.periodType | dict:service.weekly | async}}
							</font>
						</td>
					</tr>
					<tr *ngIf="cart.billingInfo.unitPrice">
						<td>{{'SHOPPING_CART.UNIT_PRICE' | translate}}</td>
						<td>
							<font class="font-orange">
							{{'COMMON.$' | translate}}{{cart.billingInfo.unitPrice}}}} / {{cart.billingInfo.unitType}}
							</font>
						</td>
					</tr>
				</table>
			</td> 
			<td class="text-center table-text-middle">
				<!--  <count-bar 
					[step]=1 
					[max]=2000000 
					[min]=1
					[disabled]=false 
					[value]=cart.quantity #varName (output)="outputValue($event)"></count-bar>  -->
					{{cart.quantity}}{{'SHOPPING_CART.SET' | translate}}
			</td>
			<td class="text-center table-text-middle">
				<table class="cart-info">
					<tr>
						<td>{{'COMMON.ONE_TIME_COSTS' | translate}}: </td>
						<td><font class="font-orange">¥{{cart.billingInfo.basePrice}} {{'COMMON.YUAN' | translate}}</font></td>
					</tr>
					<tr>
						<td>{{'COMMON.EXPENSE' | translate}}: </td>
						<td>
							<font class="font-orange">
							{{'COMMON.$' | translate}}{{cart.billingInfo.basicPrice+cart.billingInfo.cyclePrice+cart.billingInfo.unitPrice}}/{{cart.billingInfo.periodType | dict:service.weekly | async}}{{cart.billingInfo.unitPrice}}
							</font>
						</td>
					</tr>
				</table>
			</td>
		</tr>
		</ng-container>
	</table>
	<div class="shoping-bottom clear-float">
		<a href="javascript:" (click)="location.back()" class="font-orange float-left pdt20">{{'SHOPPING_CART.BACK_TO_PRODUCT_PURCHASE' | translate}}</a>
		<button (click)="buyNow()" class="btn button-orange-deep button-size-big float-right mgt15">{{'SHOPPING_CART.SETTLE_ACCOUNTS' | translate}}</button>
		 <span class="float-right mgr50">
			<table>
                <tr>
                    <td>{{'COMMON.ONE_TIME_COSTS' | translate}}: </td>
                    <td><font class="font-orange">{{'COMMON.$' | translate}}{{totalPrice.oncePrice | decimalPlaces}} {{'COMMON.YUAN' | translate}}</font></td>
                </tr>
                <tr *ngFor="let key of totalPrice.billingArr | objectToArr; let i = index">
                    <td><font *ngIf="i == 0">{{'SHOPPING_CART.BILLINGARR' | translate}}:</font></td>
                    <td><font class="font-orange">{{'COMMON.$' | translate}}{{totalPrice.billingArr[key]}}/{{key | dict:service.weekly | async}}</font></td>
                </tr>
                <tr *ngFor="let key of totalPrice.unitArr | objectToArr; let i = index">
                    <td><font *ngIf="i == 0">{{'SHOPPING_CART.UNITARR' | translate}}:</font></td>
                    <td><font class="font-orange">{{'COMMON.$' | translate}}{{totalPrice.unitArr[key]}}/{{key | dict:service.weekly | async}}/GB</font></td>
                </tr>
            </table>
        </span>
		<span class="float-right mgr50 pdt20">{{'SHOPPING_CART.TOTAL_COST' | translate}}</span>
	</div>
</div>
<fc-confirm #confirm title="{{modalTitle}}" msg="{{modalMessage}}" ot="{{modalOKTitle}}" (of)="modalcancle()" ct="{{modalCancelTitle}}" (cf)="modalconfirm()"></fc-confirm>
<fc-notice #notice title="{{modalTitle}}" msg="{{modalMessage}}" ot="{{modalOKTitle}}" (of)="noticeconfirm()"></fc-notice>



<!-- 
<form #heroForm="ngForm"  (ngSubmit)="onValueChanged(heroForm)">
  <div class="form-group" [ngClass]="{'has-error': name.errors && (name.dirty || name.touched)}">
	  <input type="text" id="name" class="form-control"
		   required [pattern]="v.email"
		   name="name" ngModel
		   #name="ngModel" >
	  <span class="help-block" *ngIf="name.errors?.pattern">请填写正确的email</span>
	  <span class="help-block" *ngIf="name.errors?.required">email不能为空</span>
  </div>

  <div class="form-group" [ngClass]="{'has-error': number.errors && (number.dirty || number.touched)}">
	  <input type="text" id="number" class="form-control"
		   required [pattern]="v.number"
		   minlength="4" maxlength="24"
		   name="number" ngModel
		   #number="ngModel" >
	  <span class="help-block" *ngIf="number.errors?.pattern">必须为数字</span>
	  <span class="help-block" *ngIf="number.errors?.minlength">不小于4个字</span>
	  <span class="help-block" *ngIf="number.errors?.maxlength">不能超过24个字</span>
	  <span class="help-block" *ngIf="number.errors?.required">不能为空</span>
  </div>

  <button type="submit" class="btn btn-default"
			 [disabled]="!heroForm.form.valid">Submit</button>

</form> -->
