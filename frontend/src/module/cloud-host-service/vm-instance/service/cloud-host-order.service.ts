import { Injectable } from '@angular/core';
import { Http, Response } from '@angular/http';
import { RestApiCfg, RestApi, SystemDictionaryService } from '../../../../architecture';

import { PayLoad } from '../model/attr-list.model';
import { TimeLineData, Network, Image } from '../model/services.model';

import 'rxjs/add/operator/toPromise';

@Injectable()
export class cloudHostServiceOrder {
    constructor(private http:Http,
                private restApiCfg:RestApiCfg,
                private dict:SystemDictionaryService,
                private restApi:RestApi) {
    }

    userInfo = this.restApi.getLoginInfo().userInfo;
    
    getQuotaResoure() : Promise<any> {
        let api = this.restApiCfg.getRestApi('user-center.org-mng.resource.get');

        let pathParams = [{
            key: 'id',
            value: this.userInfo.organizationId
        }];

        const request = this.restApi.request(api.method, api.url, pathParams, undefined, undefined)
                            .then(res => {
                                if(res.resultCode !== "100"){
                                    throw "";
                                }
                                return res.resultContent;
                            });

        return request;
    };

    getPlatformQuota(platformId:string): Promise<any>{
        let api = this.restApiCfg.getRestApi('fetch.platforms.quotas');

        let pathParams = [{
            key: 'platformId',
            value: platformId
        }];

        const request = this.restApi.request(api.method, api.url, pathParams, undefined, undefined)
                            .then(res => {
                                if(res.resultCode !== "100"){
                                    throw "";
                                }
                                return res.resultContent;
                            });

        return request;
        // return new Promise(next => next(
        //     {
        //       "detailDescription": "string",
        //       "resultCode": "string",
        //       "resultContent": {
        //         "cpu": 330,
        //         "memory": 213123,
        //         "platformId": "string",
        //         "platformName": "string",
        //         "pychicalMachine": 0,
        //         "storageQuota": 0,
        //         "vmQuota": 0
        //       }
        //     }.resultContent
        // ));
    }

    getHostConfigList() : Promise<any>{
        const api = this.restApiCfg.getRestApi("hosts.services.get");

        let pathParams = [
            {
                key: 'id',
                value: "0"
            }
        ];
        const request = this.restApi.request(api.method, api.url, pathParams, undefined)
                            .then(res => {
                                if(res.resultCode !== "100"){
                                    throw "";
                                }
                                // console.log(JSON.stringify(res.resultContent))
                                return res.resultContent;
                            });
        return request;
        // return Promise.resolve({"resultCode":"100","detailDescription":null,"resultContent":{"attrList":[{"attrId":"de227c2e-a0f7-11e6-a18b-0050568a49fd","attrCode":"IMAGETYPE","attrDisplayName":"镜像类型","skuFlag":null,"valueType":1,"mandatory":0,"relyType":1,"relyAttrId":"de22951e-a0f7-11e6-a18b-0050568a49fd","valueList":null,"mapValueList":{"946a6340-a1b6-11e6-a18b-0050568a49fd":[{"attrValueId":"cbe7ad93-a1b6-11e6-a18b-0050568a49fd","attrValueCode":null,"attrDisplayValue":"标准镜像","attrValue":"0","platformIds":[],"status":false}]}},{"attrId":"c0b0d3cb-a750-11e6-a18b-0050568a49fd","attrCode":"DISKINITIALSIZE","attrDisplayName":"初始大小","skuFlag":null,"valueType":1,"mandatory":0,"relyType":0,"relyAttrId":null,"valueList":[{"attrValueId":"08944ebc-a756-11e6-a18b-0050568a49fd","attrValueCode":null,"attrDisplayValue":null,"attrValue":"10","platformIds":null,"status":false}],"mapValueList":null},{"attrId":"dfdbcc3a-a748-11e6-a18b-0050568a49fd","attrCode":"DISKTYPE","attrDisplayName":"云硬盘","skuFlag":null,"valueType":1,"mandatory":0,"relyType":0,"relyAttrId":null,"valueList":[{"attrValueId":"90bfdf09-a74f-11e6-a18b-0050568a49fd","attrValueCode":"EMPTYDISK","attrDisplayValue":"空白盘","attrValue":"0","platformIds":null,"status":false},{"attrValueId":"9447bd7f-a74f-11e6-a18b-0050568a49fd","attrValueCode":"UNMOUNTDISK","attrDisplayValue":"从未挂载盘","attrValue":"1","platformIds":null,"status":false},{"attrValueId":"9774de0c-a74f-11e6-a18b-0050568a49fd","attrValueCode":"RECOVERDISK","attrDisplayValue":"从备份恢复","attrValue":"2","platformIds":null,"status":false}],"mapValueList":null},{"attrId":"de2285b7-a0f7-11e6-a18b-0050568a49fd","attrCode":"NETWORKTYPE","attrDisplayName":"网络类型","skuFlag":null,"valueType":1,"mandatory":0,"relyType":1,"relyAttrId":"de226d17-a0f7-11e6-a18b-0050568a49fd","valueList":null,"mapValueList":{"152e9ab1-07e0-49b0-abc8-452156dee1b7":[{"attrValueId":"99e31fe8-8962-468d-8ffa-8c5c1a1b27e9","attrValueCode":"network01","attrDisplayValue":"10.1.1.0/24","attrValue":"25fe71be-64ec-4180-98c5-392b0ba31cc5","platformIds":[],"status":false},{"attrValueId":"ac13043a-f6e0-47b9-b382-258fe59199c6","attrValueCode":"network02","attrDisplayValue":"192.168.1.0/24","attrValue":"7b47a53e-ed72-4037-9dd9-020504b4367e","platformIds":[],"status":false},{"attrValueId":"5c38d76a-68cb-4487-af2b-a1814355f8cc","attrValueCode":"ext-net","attrDisplayValue":"192.168.101.0/24","attrValue":"d3d58860-8932-4ce6-8591-6e1731f6675f","platformIds":[],"status":false}]}},{"attrId":"ab2cd7ee-a1ba-11e6-a18b-0050568a49fd","attrCode":"BILLINGMODE","attrDisplayName":"计费模式","skuFlag":null,"valueType":1,"mandatory":0,"relyType":0,"relyAttrId":null,"valueList":[{"attrValueId":"2478ab7f-a1bb-11e6-a18b-0050568a49fd","attrValueCode":null,"attrDisplayValue":"周期计费","attrValue":"0","platformIds":null,"status":false},{"attrValueId":"27e38973-a1bb-11e6-a18b-0050568a49fd","attrValueCode":null,"attrDisplayValue":"流量计费","attrValue":"1","platformIds":null,"status":false}],"mapValueList":null},{"attrId":"de22a07b-a0f7-11e6-a18b-0050568a49fd","attrCode":"CPU","attrDisplayName":"CPU","skuFlag":null,"valueType":0,"mandatory":0,"relyType":1,"relyAttrId":"de226d17-a0f7-11e6-a18b-0050568a49fd","valueList":null,"mapValueList":{"b45c5da1-a6a7-4e14-90ff-536f9d6847d7":[{"attrValueId":"82b9e1db-1c65-49c8-a36c-1080d9d8bcd5","attrValueCode":"1core","attrDisplayValue":"1核","attrValue":"1","platformIds":["0f4bcc26-d1ae-481a-9aca-cf79bc89a783","152e9ab1-07e0-49b0-abc8-452156dee1b7"],"status":false}],"0f4bcc26-d1ae-481a-9aca-cf79bc89a783":[{"attrValueId":"82b9e1db-1c65-49c8-a36c-1080d9d8bcd5","attrValueCode":"1core","attrDisplayValue":"1核","attrValue":"1","platformIds":["0f4bcc26-d1ae-481a-9aca-cf79bc89a783","152e9ab1-07e0-49b0-abc8-452156dee1b7"],"status":false}],"152e9ab1-07e0-49b0-abc8-452156dee1b7":[{"attrValueId":"82b9e1db-1c65-49c8-a36c-1080d9d8bcd5","attrValueCode":"1core","attrDisplayValue":"1核","attrValue":"1","platformIds":["0f4bcc26-d1ae-481a-9aca-cf79bc89a783","152e9ab1-07e0-49b0-abc8-452156dee1b7"],"status":false}],"89e62d0e-a297-4744-b94f-c78a234c9b6b":[{"attrValueId":"82b9e1db-1c65-49c8-a36c-1080d9d8bcd5","attrValueCode":"1core","attrDisplayValue":"1核","attrValue":"1","platformIds":["0f4bcc26-d1ae-481a-9aca-cf79bc89a783","152e9ab1-07e0-49b0-abc8-452156dee1b7","e9f98dd4-3842-4a0f-b251-0a5cc8b02a5d"],"status":false}],"56a345cf-91c4-45ac-8420-b2a5af6ee78f":[{"attrValueId":"82b9e1db-1c65-49c8-a36c-1080d9d8bcd5","attrValueCode":"1core","attrDisplayValue":"1核","attrValue":"1","platformIds":["0f4bcc26-d1ae-481a-9aca-cf79bc89a783","152e9ab1-07e0-49b0-abc8-452156dee1b7"],"status":false}],"0a04a6fb-4e4d-4691-ac0a-855573dc8a9f":[{"attrValueId":"abad9425-4195-4e8f-ac6f-491c9b4dde33","attrValueCode":"2core","attrDisplayValue":"2核","attrValue":"2","platformIds":["0a04a6fb-4e4d-4691-ac0a-855573dc8a9f"],"status":false},{"attrValueId":"f83a5fcb-1613-4d25-838c-3ff3993a77b1","attrValueCode":"4core","attrDisplayValue":"4核","attrValue":"4","platformIds":["0a04a6fb-4e4d-4691-ac0a-855573dc8a9f"],"status":false}],"e9f98dd4-3842-4a0f-b251-0a5cc8b02a5d":[{"attrValueId":"82b9e1db-1c65-49c8-a36c-1080d9d8bcd5","attrValueCode":"1core","attrDisplayValue":"1核","attrValue":"1","platformIds":["0f4bcc26-d1ae-481a-9aca-cf79bc89a783","152e9ab1-07e0-49b0-abc8-452156dee1b7","e9f98dd4-3842-4a0f-b251-0a5cc8b02a5d"],"status":false}]}},{"attrId":"6e867f57-a74b-11e6-a18b-0050568a49fd","attrCode":"DISKMOUNTHOSTID","attrDisplayName":"挂载云主机ID","skuFlag":null,"valueType":1,"mandatory":0,"relyType":0,"relyAttrId":null,"valueList":null,"mapValueList":null},{"attrId":"de228e4d-a0f7-11e6-a18b-0050568a49fd","attrCode":"USERNAME","attrDisplayName":"用户名","skuFlag":null,"valueType":2,"mandatory":0,"relyType":0,"relyAttrId":null,"valueList":null,"mapValueList":null},{"attrId":"e9b5b9b1-a750-11e6-a18b-0050568a49fd","attrCode":"DISKSTEPSIZE","attrDisplayName":"步长","skuFlag":null,"valueType":1,"mandatory":0,"relyType":0,"relyAttrId":null,"valueList":[{"attrValueId":"32342f44-a756-11e6-a18b-0050568a49fd","attrValueCode":null,"attrDisplayValue":null,"attrValue":"21","platformIds":null,"status":false}],"mapValueList":null},{"attrId":"de228b51-a0f7-11e6-a18b-0050568a49fd","attrCode":"SETTINGTYPE","attrDisplayName":"设置方式","skuFlag":null,"valueType":2,"mandatory":0,"relyType":0,"relyAttrId":null,"valueList":[{"attrValueId":"d1217664-a1b8-11e6-a18b-0050568a49fd","attrValueCode":null,"attrDisplayValue":"立即设置","attrValue":"0","platformIds":null,"status":false},{"attrValueId":"d45738f1-a1b8-11e6-a18b-0050568a49fd","attrValueCode":null,"attrDisplayValue":"模板自带密码","attrValue":"1","platformIds":null,"status":false}],"mapValueList":null},{"attrId":"de229d22-a0f7-11e6-a18b-0050568a49fd","attrCode":"BOOTSTORAGE","attrDisplayName":"启动盘","skuFlag":null,"valueType":0,"mandatory":0,"relyType":1,"relyAttrId":"de229b8e-a0f7-11e6-a18b-0050568a49fd","valueList":null,"mapValueList":{"403be419-df5a-4683-a63d-19fa099dd6d7":[{"attrValueId":"db5714c4-f7f4-468d-9747-5861907f6a08","attrValueCode":"disk","attrDisplayValue":"disk","attrValue":"dd1a8e8e-3163-47e8-ae2a-920d22caab9f","platformIds":[],"status":false}],"cb68a693-5231-498d-ba4a-8205ca9125ae":[{"attrValueId":"685b0c62-9eb9-46f4-b351-f5f4ff515ada","attrValueCode":"disk1","attrDisplayValue":"disk1","attrValue":"b7e4ad6d-b151-44f9-9f6b-b987980e2819","platformIds":[],"status":false}],"af600c1c-6375-4596-9281-bbde48e50f9e":[{"attrValueId":"1f10385e-9639-405d-8d78-19ef6f545bf0","attrValueCode":"disk1","attrDisplayValue":"disk1","attrValue":"d47bc66f-8860-496a-b8c5-bbc64e3d301d","platformIds":[],"status":false}],"45391234-8b65-45ff-b0ba-c25a9ab80393":[{"attrValueId":"9d182bd4-8166-4b59-b814-e60eff2b7c4b","attrValueCode":"bootDisk1","attrDisplayValue":"bootDisk1","attrValue":"f7b804c6-263a-4de9-ae31-b74c54f883ef","platformIds":[],"status":false}],"ff7a0b9e-f64a-4f6f-b8fe-c26fd781812d":[{"attrValueId":"1e8826ba-7c18-42c4-8be8-5491c44c7549","attrValueCode":"disk1","attrDisplayValue":"disk1","attrValue":"b4ab9a2e-1faf-461a-b5de-64a220b0729f","platformIds":[],"status":false}],"41472d30-1d61-4939-a68a-a6c63163d834":[{"attrValueId":"c63c1057-7285-429a-a182-95e4d40d5e54","attrValueCode":"disk2","attrDisplayValue":"disk2","attrValue":"c086620e-c8e6-4fc9-a62b-57d0ddeb5146","platformIds":[],"status":false}],"34188f04-082e-4cbf-aee9-bcdaa13a6fba":[{"attrValueId":"f86ec14a-9d61-4d69-9c8b-5e7c63027569","attrValueCode":"启动盘1","attrDisplayValue":"启动盘1","attrValue":"2ef567df-cebc-47c2-b6f1-e7d9b29f58c1","platformIds":[],"status":false}]}},{"attrId":"de229efb-a0f7-11e6-a18b-0050568a49fd","attrCode":"BOOTSIZE","attrDisplayName":"启动盘容量","skuFlag":null,"valueType":0,"mandatory":0,"relyType":1,"relyAttrId":"de22a1e3-a0f7-11e6-a18b-0050568a49fd","valueList":null,"mapValueList":{"1b8a5054-52f9-4138-8014-6a379e9941ad":[{"attrValueId":"5519468d-e154-4058-9352-de91b3baa19b","attrValueCode":"20GB","attrDisplayValue":"20GB","attrValue":"20","platformIds":["0f4bcc26-d1ae-481a-9aca-cf79bc89a783","152e9ab1-07e0-49b0-abc8-452156dee1b7"],"status":false}],"76b64561-8e04-4615-9d53-4c26a5910a1a":[{"attrValueId":"8172ba77-6c19-470d-80b9-9804342c6ab9","attrValueCode":"80GB","attrDisplayValue":"80GB","attrValue":"80","platformIds":["0a04a6fb-4e4d-4691-ac0a-855573dc8a9f"],"status":false}],"09f7c4f4-71d9-412e-916b-dacb8ccffcd0":[{"attrValueId":"8172ba77-6c19-470d-80b9-9804342c6ab9","attrValueCode":"80GB","attrDisplayValue":"80GB","attrValue":"80","platformIds":["0a04a6fb-4e4d-4691-ac0a-855573dc8a9f"],"status":false}]}},{"attrId":"de229819-a0f7-11e6-a18b-0050568a49fd","attrCode":"TIMELINEUNIT","attrDisplayName":"时长单位","skuFlag":null,"valueType":1,"mandatory":0,"relyType":2,"relyAttrId":null,"valueList":null,"mapValueList":{"9e680626-05e0-4087-91c7-cb6bf1cb3c1e":[{"attrValueId":"b8fe32a7-a1bb-11e6-a18b-0050568a49fd","attrValueCode":"8f188d4c-010a-4f7e-a789-736dd272a278","attrDisplayValue":"按月","attrValue":"3","platformIds":null,"status":false}],"dc40d4d2-7ed9-48cd-bce6-dfc8a85f885c":[{"attrValueId":"b8fe32a7-a1bb-11e6-a18b-0050568a49fd","attrValueCode":"00b5d938-b1d0-4f6c-a28a-e5d89e1cfc6d","attrDisplayValue":"按月","attrValue":"3","platformIds":null,"status":false}],"74cbbc64-f5ea-4f0f-8b1d-38887bad0edc":[{"attrValueId":"b8fe32a7-a1bb-11e6-a18b-0050568a49fd","attrValueCode":"11662512-ac3e-46dc-8128-376da994413f","attrDisplayValue":"按月","attrValue":"3","platformIds":null,"status":false}],"365fb933-1a6c-47bb-97b0-cb0fe4d3978d":[{"attrValueId":"bc5d2ca5-a1bb-11e6-a18b-0050568a49fd","attrValueCode":"3ed7ac27-41c8-4850-bdcd-5df4a652ad09","attrDisplayValue":"按年","attrValue":"5","platformIds":null,"status":false}],"440b44fb-8757-4e73-8740-434e6d8c884c":[{"attrValueId":"b8fe32a7-a1bb-11e6-a18b-0050568a49fd","attrValueCode":"11662512-ac3e-46dc-8128-376da994413f","attrDisplayValue":"按月","attrValue":"3","platformIds":null,"status":false}],"0c6f1459-4186-4d33-98ad-7fb75e185169":[{"attrValueId":"bc5d2ca5-a1bb-11e6-a18b-0050568a49fd","attrValueCode":"4592e69f-8bfb-469a-a221-3e5ee426c8dd","attrDisplayValue":"按年","attrValue":"5","platformIds":null,"status":false}],"4681a39c-ca3b-467d-b649-a4c51dd1be3b":[{"attrValueId":"b8fe32a7-a1bb-11e6-a18b-0050568a49fd","attrValueCode":"47bec1f9-8be5-430f-b116-a6f880d11398","attrDisplayValue":"按月","attrValue":"3","platformIds":null,"status":false}],"4bb181ec-dd62-49f0-94fe-5a92cbb5a003":[{"attrValueId":"b8fe32a7-a1bb-11e6-a18b-0050568a49fd","attrValueCode":"8f188d4c-010a-4f7e-a789-736dd272a278","attrDisplayValue":"按月","attrValue":"3","platformIds":null,"status":false}],"c5c72910-695d-4ed2-a3b7-15275c332386":[{"attrValueId":"b8fe32a7-a1bb-11e6-a18b-0050568a49fd","attrValueCode":"396d70db-a15e-411e-be10-08c0a5131219","attrDisplayValue":"按月","attrValue":"3","platformIds":null,"status":false}],"ec3b42d8-bd43-42b1-8a1d-24880bacd015":[{"attrValueId":"b8fe32a7-a1bb-11e6-a18b-0050568a49fd","attrValueCode":"396d70db-a15e-411e-be10-08c0a5131219","attrDisplayValue":"按月","attrValue":"3","platformIds":null,"status":false}]}},{"attrId":"de22938f-a0f7-11e6-a18b-0050568a49fd","attrCode":"SECURITYGROUP","attrDisplayName":"安全组","skuFlag":null,"valueType":0,"mandatory":0,"relyType":0,"relyAttrId":null,"valueList":[{"attrValueId":"64aa7bb2-a1b6-11e6-a18b-0050568a49fd","attrValueCode":null,"attrDisplayValue":"default","attrValue":"default","platformIds":null,"status":false}],"mapValueList":null},{"attrId":"373f06a8-a74b-11e6-a18b-0050568a49fd","attrCode":"DISKINSNAME","attrDisplayName":"云硬盘实例名称","skuFlag":null,"valueType":1,"mandatory":0,"relyType":0,"relyAttrId":null,"valueList":null,"mapValueList":null},{"attrId":"981dff3d-a74b-11e6-a18b-0050568a49fd","attrCode":"DISKMOUNTHOSTNAME","attrDisplayName":"云主机名称","skuFlag":null,"valueType":1,"mandatory":0,"relyType":0,"relyAttrId":null,"valueList":null,"mapValueList":null},{"attrId":"de229135-a0f7-11e6-a18b-0050568a49fd","attrCode":"INSTANCENAME","attrDisplayName":"实例名称","skuFlag":null,"valueType":2,"mandatory":0,"relyType":0,"relyAttrId":null,"valueList":null,"mapValueList":null},{"attrId":"de22a1e3-a0f7-11e6-a18b-0050568a49fd","attrCode":"MEM","attrDisplayName":"内存","skuFlag":null,"valueType":0,"mandatory":0,"relyType":1,"relyAttrId":"de22a07b-a0f7-11e6-a18b-0050568a49fd","valueList":null,"mapValueList":{"82b9e1db-1c65-49c8-a36c-1080d9d8bcd5":[{"attrValueId":"1b8a5054-52f9-4138-8014-6a379e9941ad","attrValueCode":"2GB","attrDisplayValue":"2GB","attrValue":"2048","platformIds":["0f4bcc26-d1ae-481a-9aca-cf79bc89a783","152e9ab1-07e0-49b0-abc8-452156dee1b7"],"status":false}],"f83a5fcb-1613-4d25-838c-3ff3993a77b1":[{"attrValueId":"76b64561-8e04-4615-9d53-4c26a5910a1a","attrValueCode":"8GB","attrDisplayValue":"8GB","attrValue":"8192","platformIds":["0a04a6fb-4e4d-4691-ac0a-855573dc8a9f"],"status":false}],"abad9425-4195-4e8f-ac6f-491c9b4dde33":[{"attrValueId":"09f7c4f4-71d9-412e-916b-dacb8ccffcd0","attrValueCode":"4GB","attrDisplayValue":"4GB","attrValue":"4096","platformIds":["0a04a6fb-4e4d-4691-ac0a-855573dc8a9f"],"status":false}]}},{"attrId":"de22951e-a0f7-11e6-a18b-0050568a49fd","attrCode":"STARTUPSOURCE","attrDisplayName":"启动源","skuFlag":null,"valueType":0,"mandatory":0,"relyType":1,"relyAttrId":"de226d17-a0f7-11e6-a18b-0050568a49fd","valueList":null,"mapValueList":{"b45c5da1-a6a7-4e14-90ff-536f9d6847d7":[{"attrValueId":"946a6340-a1b6-11e6-a18b-0050568a49fd","attrValueCode":null,"attrDisplayValue":"镜像","attrValue":"0","platformIds":[],"status":false}],"0f4bcc26-d1ae-481a-9aca-cf79bc89a783":[{"attrValueId":"946a6340-a1b6-11e6-a18b-0050568a49fd","attrValueCode":null,"attrDisplayValue":"镜像","attrValue":"0","platformIds":[],"status":false}],"152e9ab1-07e0-49b0-abc8-452156dee1b7":[{"attrValueId":"946a6340-a1b6-11e6-a18b-0050568a49fd","attrValueCode":null,"attrDisplayValue":"镜像","attrValue":"0","platformIds":[],"status":false}],"89e62d0e-a297-4744-b94f-c78a234c9b6b":[{"attrValueId":"946a6340-a1b6-11e6-a18b-0050568a49fd","attrValueCode":null,"attrDisplayValue":"镜像","attrValue":"0","platformIds":[],"status":false}],"56a345cf-91c4-45ac-8420-b2a5af6ee78f":[{"attrValueId":"946a6340-a1b6-11e6-a18b-0050568a49fd","attrValueCode":null,"attrDisplayValue":"镜像","attrValue":"0","platformIds":[],"status":false}],"0a04a6fb-4e4d-4691-ac0a-855573dc8a9f":[{"attrValueId":"946a6340-a1b6-11e6-a18b-0050568a49fd","attrValueCode":null,"attrDisplayValue":"镜像","attrValue":"0","platformIds":[],"status":false}],"e9f98dd4-3842-4a0f-b251-0a5cc8b02a5d":[{"attrValueId":"946a6340-a1b6-11e6-a18b-0050568a49fd","attrValueCode":null,"attrDisplayValue":"镜像","attrValue":"0","platformIds":[],"status":false}]}},{"attrId":"de227a98-a0f7-11e6-a18b-0050568a49fd","attrCode":"TIMELINE","attrDisplayName":"购买时长","skuFlag":null,"valueType":0,"mandatory":0,"relyType":0,"relyAttrId":null,"valueList":null,"mapValueList":null},{"attrId":"0cc055b5-a751-11e6-a18b-0050568a49fd","attrCode":"DISKMAXSIZE","attrDisplayName":"最大","skuFlag":null,"valueType":1,"mandatory":0,"relyType":0,"relyAttrId":null,"valueList":[{"attrValueId":"3b9e940c-a756-11e6-a18b-0050568a49fd","attrValueCode":null,"attrDisplayValue":null,"attrValue":"52","platformIds":null,"status":false}],"mapValueList":null},{"attrId":"de2296a2-a0f7-11e6-a18b-0050568a49fd","attrCode":"STORAGESIZE","attrDisplayName":"数据盘容量","skuFlag":null,"valueType":1,"mandatory":0,"relyType":0,"relyAttrId":null,"valueList":null,"mapValueList":null},{"attrId":"db4fac5d-a74a-11e6-a18b-0050568a49fd","attrCode":"DISKSIZE","attrDisplayName":"容量","skuFlag":null,"valueType":1,"mandatory":0,"relyType":0,"relyAttrId":null,"valueList":null,"mapValueList":null},{"attrId":"de229b8e-a0f7-11e6-a18b-0050568a49fd","attrCode":"ZONE","attrDisplayName":"可用区","skuFlag":null,"valueType":1,"mandatory":0,"relyType":1,"relyAttrId":"de226d17-a0f7-11e6-a18b-0050568a49fd","valueList":null,"mapValueList":{"04779d21-7322-4a0b-b2bb-fa1e474ced3d":[{"attrValueId":"a4abc681-4208-4a9d-943d-ce374e3ba21e","attrValueCode":"nova_test","attrDisplayValue":"nova_test","attrValue":"15472425-5637-4d0a-b35e-0292d51fb9be","platformIds":[],"status":false}],"17ecd425-1b6f-4ef2-80c6-2d07c3b85d23":[{"attrValueId":"6a0a7d90-fb24-4840-858c-ae8cf2daaefe","attrValueCode":"Op_Cluster","attrDisplayValue":"Op_Cluster","attrValue":"c26be735-0388-44a8-8838-c9ce122d6dca","platformIds":[],"status":false}],"b45c5da1-a6a7-4e14-90ff-536f9d6847d7":[{"attrValueId":"41472d30-1d61-4939-a68a-a6c63163d834","attrValueCode":"nova","attrDisplayValue":"nova","attrValue":"e0786500-5cd5-48fc-adac-0fece2d31ec8","platformIds":[],"status":false}],"0f4bcc26-d1ae-481a-9aca-cf79bc89a783":[{"attrValueId":"cb68a693-5231-498d-ba4a-8205ca9125ae","attrValueCode":"nova_test","attrDisplayValue":"nova_test","attrValue":"ef4b4aea-5152-4c36-a5f9-967ea5d07ee1","platformIds":[],"status":false}],"152e9ab1-07e0-49b0-abc8-452156dee1b7":[{"attrValueId":"45391234-8b65-45ff-b0ba-c25a9ab80393","attrValueCode":"Jason_test2","attrDisplayValue":"Jason_test2","attrValue":"a1fb85f0-eb00-43bb-a337-a6d55ca39908","platformIds":[],"status":false}],"89e62d0e-a297-4744-b94f-c78a234c9b6b":[{"attrValueId":"ff7a0b9e-f64a-4f6f-b8fe-c26fd781812d","attrValueCode":"Jason_test2","attrDisplayValue":"Jason_test2","attrValue":"a85b02f9-322e-4a57-ba93-6a9d887523a8","platformIds":[],"status":false}],"56a345cf-91c4-45ac-8420-b2a5af6ee78f":[{"attrValueId":"403be419-df5a-4683-a63d-19fa099dd6d7","attrValueCode":"nova","attrDisplayValue":"nova","attrValue":"b9ffd2c8-2cb9-4dff-841b-a2234f1bae6e","platformIds":[],"status":false}],"0a04a6fb-4e4d-4691-ac0a-855573dc8a9f":[{"attrValueId":"34188f04-082e-4cbf-aee9-bcdaa13a6fba","attrValueCode":"SHcluster","attrDisplayValue":"SHcluster","attrValue":"085b9f23-f1f7-4c37-a352-e1ea481b10f5","platformIds":[],"status":false}],"19e7cfaf-9b10-4141-8645-1359a75f02d7":[{"attrValueId":"9e1467e9-59f0-45c3-b731-18d763f250e2","attrValueCode":"Op_Cluster","attrDisplayValue":"Op_Cluster","attrValue":"056c05e1-a95f-451e-8516-79e810703363","platformIds":[],"status":false}],"e9f98dd4-3842-4a0f-b251-0a5cc8b02a5d":[{"attrValueId":"af600c1c-6375-4596-9281-bbde48e50f9e","attrValueCode":"Jason_test2","attrDisplayValue":"Jason_test2","attrValue":"1dce6899-4cc0-4af5-9d14-e6b68a0a1702","platformIds":[],"status":false}]}},{"attrId":"8df90e09-a74a-11e6-a18b-0050568a49fd","attrCode":"STORAGE","attrDisplayName":"云硬盘类型","skuFlag":null,"valueType":1,"mandatory":0,"relyType":1,"relyAttrId":"de229b8e-a0f7-11e6-a18b-0050568a49fd","valueList":null,"mapValueList":{"403be419-df5a-4683-a63d-19fa099dd6d7":[{"attrValueId":"5a0ade1e-2285-45f2-a39e-31a11b5951d1","attrValueCode":"nfs","attrDisplayValue":"nfs","attrValue":"fc747616-e063-4c9f-a8a6-02b1c6d86f50","platformIds":[],"status":false}],"a4abc681-4208-4a9d-943d-ce374e3ba21e":[{"attrValueId":"ed6a8b47-c88a-4d3a-b195-91eacfe2b0f0","attrValueCode":"nfs2","attrDisplayValue":"nfs235","attrValue":"d5e4ce5c-8799-49ba-883c-4ce0b1f5757f","platformIds":[],"status":false}],"cb68a693-5231-498d-ba4a-8205ca9125ae":[{"attrValueId":"ce2596cf-babf-4071-8161-5fcde64f7771","attrValueCode":"nfs2","attrDisplayValue":"nfs2432","attrValue":"570dc691-4f91-4f29-96a8-6a8a1b5bd385","platformIds":[],"status":false},{"attrValueId":"6c0eaf55-219e-49a4-9ea2-0ecf43d4929a","attrValueCode":"nfs","attrDisplayValue":"nfs123","attrValue":"09d7aceb-50da-4d3b-9c58-98bff2ff9985","platformIds":[],"status":false}],"af600c1c-6375-4596-9281-bbde48e50f9e":[{"attrValueId":"317b45da-6f1b-4773-9ce9-287e05f5c2fa","attrValueCode":"nfs2","attrDisplayValue":"nfs2","attrValue":"d805834b-22da-4253-aa46-6d9ba3e3dd91","platformIds":[],"status":false},{"attrValueId":"0c0099d1-e6f6-4089-9542-95872411c0f5","attrValueCode":"nfs","attrDisplayValue":"nfs","attrValue":"c723dd73-e88b-4d0f-9369-3e626d9adb46","platformIds":[],"status":false}],"45391234-8b65-45ff-b0ba-c25a9ab80393":[{"attrValueId":"9349b5ab-d2a9-4c03-bca6-bd75c5ee4bcb","attrValueCode":"nfs2","attrDisplayValue":"nfs2","attrValue":"91ce69af-3cd6-4d04-8eb1-864c1a36a817","platformIds":[],"status":false},{"attrValueId":"b8fe4388-d905-405d-82af-efa866a5b293","attrValueCode":"nfs","attrDisplayValue":"nfs","attrValue":"3a1b214e-ea25-4c34-8974-697e1db86087","platformIds":[],"status":false}],"6a0a7d90-fb24-4840-858c-ae8cf2daaefe":[{"attrValueId":"f715c441-083a-4f8c-b99a-f16aa2d19944","attrValueCode":"SharedVMFS","attrDisplayValue":"SharedVMFS","attrValue":"8f6d88e5-b572-4175-8b93-589ba97a1c9d","platformIds":[],"status":false}],"9e1467e9-59f0-45c3-b731-18d763f250e2":[{"attrValueId":"b96110be-f525-494b-bc66-2ae389b7292d","attrValueCode":"SharedVMFS","attrDisplayValue":"SharedVMFS","attrValue":"f29df75d-afea-44b2-973f-f71b5ad360c0","platformIds":[],"status":false}],"ff7a0b9e-f64a-4f6f-b8fe-c26fd781812d":[{"attrValueId":"2ad42820-a6ab-496e-b77a-2f23e33e0eaa","attrValueCode":"nfs","attrDisplayValue":"nfs","attrValue":"f4a69d66-b8ad-4df6-b1a7-53d10bd29aa9","platformIds":[],"status":false},{"attrValueId":"a2d4100e-9aa1-4688-a003-f45927e2402c","attrValueCode":"nfs2","attrDisplayValue":"nfs2","attrValue":"9d246b9c-63f5-4d63-acb9-d79eac2b5466","platformIds":[],"status":false}],"41472d30-1d61-4939-a68a-a6c63163d834":[{"attrValueId":"bddad380-443c-4e9c-b265-c516e3f9a3cb","attrValueCode":"nfs","attrDisplayValue":"nfs","attrValue":"632978f1-60b0-47d9-b04f-de307aefea0e","platformIds":[],"status":false}],"34188f04-082e-4cbf-aee9-bcdaa13a6fba":[{"attrValueId":"30114d05-1dd1-48ac-9c80-0039e5ca151a","attrValueCode":"VSAstorage2T","attrDisplayValue":"VSAstorage2T","attrValue":"6b9de4a1-5a64-4c99-b10a-c86d77e0589d","platformIds":[],"status":false}]}},{"attrId":"de228fbe-a0f7-11e6-a18b-0050568a49fd","attrCode":"PASSWORD","attrDisplayName":"登录密码","skuFlag":null,"valueType":2,"mandatory":0,"relyType":1,"relyAttrId":"de228b51-a0f7-11e6-a18b-0050568a49fd","valueList":null,"mapValueList":null},{"attrId":"de226d17-a0f7-11e6-a18b-0050568a49fd","attrCode":"PLATFORM","attrDisplayName":"云平台","skuFlag":null,"valueType":1,"mandatory":0,"relyType":0,"relyAttrId":null,"valueList":[{"attrValueId":"152e9ab1-07e0-49b0-abc8-452156dee1b7","attrValueCode":"forWT","attrDisplayValue":"forWT","attrValue":"6d05f7a7-2d9a-40a8-a4e7-b88a76a3b7c7","platformIds":null,"status":false},{"attrValueId":"0f4bcc26-d1ae-481a-9aca-cf79bc89a783","attrValueCode":"vomm","attrDisplayValue":"vomm","attrValue":"1867c936-20e9-4b5b-bf20-4fbf227768b7","platformIds":null,"status":false},{"attrValueId":"0a04a6fb-4e4d-4691-ac0a-855573dc8a9f","attrValueCode":"VM_Wutao_1","attrDisplayValue":"VM_Wutao_1","attrValue":"5f368c1f-10e8-4bb7-8efb-b3e88a4f2978","platformIds":null,"status":false},{"attrValueId":"04779d21-7322-4a0b-b2bb-fa1e474ced3d","attrValueCode":"type1","attrDisplayValue":"type1","attrValue":"1e85a1f0-4bdb-4e4a-9189-8a6830894ca6","platformIds":null,"status":false},{"attrValueId":"e9f98dd4-3842-4a0f-b251-0a5cc8b02a5d","attrValueCode":"123Plat","attrDisplayValue":"123Plat","attrValue":"6bdd8931-05de-4927-b3a4-f5d4bea9d141","platformIds":null,"status":false}],"mapValueList":null},{"attrId":"de227f1f-a0f7-11e6-a18b-0050568a49fd","attrCode":"OS","attrDisplayName":"镜像列表","skuFlag":null,"valueType":1,"mandatory":0,"relyType":1,"relyAttrId":"de227c2e-a0f7-11e6-a18b-0050568a49fd","valueList":null,"mapValueList":{"cbe7ad93-a1b6-11e6-a18b-0050568a49fd":[{"attrValueId":"b3973a9b-02c5-4fdb-9469-c09e423f73ba","attrValueCode":"d3189c5b-993e-40bc-b14f-dadb9dca47d2","attrDisplayValue":"CentOS-6.5-cloud","attrValue":"dc35ac4f-fcaf-4637-b8e5-34e7ac18f304","platformIds":[],"status":false},{"attrValueId":"c3c83303-632c-4c40-89e8-b6ea25133158","attrValueCode":"c57e2eaf-bb49-4049-ac7e-787223308951","attrDisplayValue":"cirros","attrValue":"e39ecc5b-d0a9-42d7-9f39-8ae7be07684e","platformIds":[],"status":false},{"attrValueId":"c153a316-a5d0-4788-9008-418b36cab2b5","attrValueCode":"f65964c6-0af0-41b9-a077-8706dc7c4082","attrDisplayValue":"windows-server-2008","attrValue":"27601937-9dc4-4143-89ab-1789c780f535","platformIds":[],"status":false},{"attrValueId":"7589c600-8e1a-4e16-8d83-cd3f2f6a2792","attrValueCode":"3bd9ec0b-9a75-4e7b-a648-6e030f6dcbc1","attrDisplayValue":"windows-server-2008","attrValue":"f2ede97f-b2a6-4723-983c-f86c410300a0","platformIds":[],"status":false},{"attrValueId":"ccda40ef-52d9-4754-bb31-483aca5a8584","attrValueCode":"3125ff9f-9911-4999-8568-118dddfa4728","attrDisplayValue":"v1test","attrValue":"93ce7f17-c309-401b-ac08-304572be917c","platformIds":[],"status":false},{"attrValueId":"6181211d-ba3d-4b53-ad58-d5ae82c707b7","attrValueCode":"c57e2eaf-bb49-4049-ac7e-787223308951","attrDisplayValue":"cirros","attrValue":"286079cc-bfae-4ea2-b31a-cdac957fb900","platformIds":[],"status":false},{"attrValueId":"f7f1cb94-cf59-4dd7-b046-5568c469decc","attrValueCode":"9f196ebc-8fbf-48ab-8b23-ec8254f95a21","attrDisplayValue":"Centos-6.5","attrValue":"958dd2cf-5127-4b35-a0f1-ccb915a06fc1","platformIds":[],"status":false},{"attrValueId":"c1c302e7-b887-4cda-9854-0a6af57060a3","attrValueCode":"c57e2eaf-bb49-4049-ac7e-787223308951","attrDisplayValue":"cirros","attrValue":"629147d7-fb3e-47e7-a981-89fc116983d8","platformIds":[],"status":false},{"attrValueId":"a7e64d4d-5b09-4a37-ab6f-63c364c1b3fa","attrValueCode":"c57e2eaf-bb49-4049-ac7e-787223308951","attrDisplayValue":"cirros","attrValue":"6ae8c10c-feb9-4395-b865-b84752d5468c","platformIds":[],"status":false},{"attrValueId":"51332148-cb50-4d62-98d5-03cacfb3b6ce","attrValueCode":"3125ff9f-9911-4999-8568-118dddfa4728","attrDisplayValue":"v1test","attrValue":"5be6c128-2ed5-4d9b-9c4a-bce9d77612f9","platformIds":[],"status":false},{"attrValueId":"ad4cc1c4-e719-4544-9c6c-c2405dfe7bc5","attrValueCode":"3125ff9f-9911-4999-8568-118dddfa4728","attrDisplayValue":"v1test","attrValue":"b73e0482-6b9f-4338-a79a-7ad2b82c1ff0","platformIds":[],"status":false},{"attrValueId":"c325c05b-5be4-44ba-b588-1e5a07107dcc","attrValueCode":"3bd9ec0b-9a75-4e7b-a648-6e030f6dcbc1","attrDisplayValue":"windows-server-2008","attrValue":"f8a79afd-dc6a-4b0a-bc4d-7c3eb2b32965","platformIds":[],"status":false},{"attrValueId":"b643475a-460a-4a1b-b734-e3f89ead3bbd","attrValueCode":"9f196ebc-8fbf-48ab-8b23-ec8254f95a21","attrDisplayValue":"Centos-6.5","attrValue":"e999f6e1-5e71-4a0b-8679-d416b98deb86","platformIds":[],"status":false},{"attrValueId":"f043797a-0ea0-4fcf-b506-f866ffa67378","attrValueCode":"c57e2eaf-bb49-4049-ac7e-787223308951","attrDisplayValue":"cirros","attrValue":"67ab0065-a2c8-4851-9401-eb77fdb23db5","platformIds":[],"status":false},{"attrValueId":"93193cd5-0453-4e7b-b7b6-088f18350d19","attrValueCode":"3bd9ec0b-9a75-4e7b-a648-6e030f6dcbc1","attrDisplayValue":"windows-server-2008","attrValue":"e7dc488f-a7a9-45ed-aefb-cedd4757933f","platformIds":[],"status":false},{"attrValueId":"ed64cc90-3de7-4e45-9ad6-64fe34e92d33","attrValueCode":"9f196ebc-8fbf-48ab-8b23-ec8254f95a21","attrDisplayValue":"Centos-6.5","attrValue":"32386b26-9746-4997-baa9-049ed98a2178","platformIds":[],"status":false},{"attrValueId":"29603375-084e-4247-a2db-cf02505d69dc","attrValueCode":"c57e2eaf-bb49-4049-ac7e-787223308951","attrDisplayValue":"cirros","attrValue":"012f70f2-dad5-43d2-bd7d-ebe04b492684","platformIds":[],"status":false},{"attrValueId":"de6fed2a-22f9-4ed1-ab9a-c1a78b77af1b","attrValueCode":"503891d5-b020-7272-5959-15ec2aa1a81f","attrDisplayValue":"CENTOS-7.2","attrValue":"391b9b41-3c8d-405b-be82-cb26f6fbd756","platformIds":[],"status":false},{"attrValueId":"8c8dab1f-095a-4411-9916-d3a9348de1fc","attrValueCode":"5031ca38-4eed-1194-fceb-ae6535e4b9ad","attrDisplayValue":"TEMPLATE-WINDOWS-2008-R2-SP1-64BIT-EN-RSP","attrValue":"a3ccc0b7-34f0-4271-b543-bb0766a348c8","platformIds":[],"status":false},{"attrValueId":"959cf830-6abf-4dcf-97b2-7b326caf0ad0","attrValueCode":"5031f350-4081-747f-3137-ba95c219ffbe","attrDisplayValue":"CENTOS-7.2-2","attrValue":"ab3b1e36-2850-40a8-9fec-dc9fdabf577a","platformIds":[],"status":false}]}}],"skuMap":{"[09f7c4f4-71d9-412e-916b-dacb8ccffcd0, 0a04a6fb-4e4d-4691-ac0a-855573dc8a9f, abad9425-4195-4e8f-ac6f-491c9b4dde33, 8172ba77-6c19-470d-80b9-9804342c6ab9, 34188f04-082e-4cbf-aee9-bcdaa13a6fba]":{"productId":null,"skuId":"0c6f1459-4186-4d33-98ad-7fb75e185169","serviceType":0,"serviceName":null,"commonServiceAttrValue":null},"[152e9ab1-07e0-49b0-abc8-452156dee1b7, 1b8a5054-52f9-4138-8014-6a379e9941ad, 82b9e1db-1c65-49c8-a36c-1080d9d8bcd5, 5519468d-e154-4058-9352-de91b3baa19b, 45391234-8b65-45ff-b0ba-c25a9ab80393]":{"productId":null,"skuId":"440b44fb-8757-4e73-8740-434e6d8c884c","serviceType":0,"serviceName":null,"commonServiceAttrValue":null},"[45391234-8b65-45ff-b0ba-c25a9ab80393, 152e9ab1-07e0-49b0-abc8-452156dee1b7, 5519468d-e154-4058-9352-de91b3baa19b, 82b9e1db-1c65-49c8-a36c-1080d9d8bcd5, 1b8a5054-52f9-4138-8014-6a379e9941ad]":{"productId":null,"skuId":"4681a39c-ca3b-467d-b649-a4c51dd1be3b","serviceType":0,"serviceName":null,"commonServiceAttrValue":null},"[0f4bcc26-d1ae-481a-9aca-cf79bc89a783, 82b9e1db-1c65-49c8-a36c-1080d9d8bcd5, 5519468d-e154-4058-9352-de91b3baa19b, 1b8a5054-52f9-4138-8014-6a379e9941ad, cb68a693-5231-498d-ba4a-8205ca9125ae]":{"productId":null,"skuId":"4bb181ec-dd62-49f0-94fe-5a92cbb5a003","serviceType":0,"serviceName":null,"commonServiceAttrValue":null},"[9349b5ab-d2a9-4c03-bca6-bd75c5ee4bcb, 152e9ab1-07e0-49b0-abc8-452156dee1b7, 45391234-8b65-45ff-b0ba-c25a9ab80393]":{"productId":null,"skuId":"ec3b42d8-bd43-42b1-8a1d-24880bacd015","serviceType":1,"serviceName":null,"commonServiceAttrValue":null},"[5519468d-e154-4058-9352-de91b3baa19b, 1b8a5054-52f9-4138-8014-6a379e9941ad, 152e9ab1-07e0-49b0-abc8-452156dee1b7, 45391234-8b65-45ff-b0ba-c25a9ab80393, 82b9e1db-1c65-49c8-a36c-1080d9d8bcd5]":{"productId":null,"skuId":"4bb181ec-dd62-49f0-94fe-5a92cbb5a003","serviceType":0,"serviceName":null,"commonServiceAttrValue":null},"[1b8a5054-52f9-4138-8014-6a379e9941ad, e9f98dd4-3842-4a0f-b251-0a5cc8b02a5d, af600c1c-6375-4596-9281-bbde48e50f9e, 82b9e1db-1c65-49c8-a36c-1080d9d8bcd5, 5519468d-e154-4058-9352-de91b3baa19b]":{"productId":null,"skuId":"440b44fb-8757-4e73-8740-434e6d8c884c","serviceType":0,"serviceName":null,"commonServiceAttrValue":null},"[34188f04-082e-4cbf-aee9-bcdaa13a6fba, 0a04a6fb-4e4d-4691-ac0a-855573dc8a9f, 30114d05-1dd1-48ac-9c80-0039e5ca151a]":{"productId":null,"skuId":"dc40d4d2-7ed9-48cd-bce6-dfc8a85f885c","serviceType":1,"serviceName":null,"commonServiceAttrValue":null},"[04779d21-7322-4a0b-b2bb-fa1e474ced3d, ed6a8b47-c88a-4d3a-b195-91eacfe2b0f0, a4abc681-4208-4a9d-943d-ce374e3ba21e]":{"productId":null,"skuId":"ec3b42d8-bd43-42b1-8a1d-24880bacd015","serviceType":1,"serviceName":null,"commonServiceAttrValue":null},"[f83a5fcb-1613-4d25-838c-3ff3993a77b1, 76b64561-8e04-4615-9d53-4c26a5910a1a, 8172ba77-6c19-470d-80b9-9804342c6ab9, 0a04a6fb-4e4d-4691-ac0a-855573dc8a9f, 34188f04-082e-4cbf-aee9-bcdaa13a6fba]":{"productId":null,"skuId":"365fb933-1a6c-47bb-97b0-cb0fe4d3978d","serviceType":0,"serviceName":null,"commonServiceAttrValue":null}},"proMap":{"[c5c72910-695d-4ed2-a3b7-15275c332386, 396d70db-a15e-411e-be10-08c0a5131219]":{"productId":"09e2f9f7-77f4-4211-8e44-9645006f3817","productName":"entProd","serviceId":"e98343b7-2e4d-4542-b552-d153060866ad","serviceType":1,"billingInfo":{"billingId":"396d70db-a15e-411e-be10-08c0a5131219","billingMode":2,"basePrice":10.0,"periodType":3,"basicPrice":null,"cyclePrice":null,"unitPrice":20.0,"unitType":0.0},"commonServiceAttrValue":null},"[440b44fb-8757-4e73-8740-434e6d8c884c, 11662512-ac3e-46dc-8128-376da994413f]":{"productId":"892d2f06-0fcc-4842-bc5e-7dd55ba8b18d","productName":"prod123","serviceId":"5f7f7388-0a6c-4e18-9ddd-c28548cc5de9","serviceType":0,"billingInfo":{"billingId":"11662512-ac3e-46dc-8128-376da994413f","billingMode":1,"basePrice":30.0,"periodType":3,"basicPrice":10.0,"cyclePrice":20.0,"unitPrice":null,"unitType":null},"commonServiceAttrValue":null},"[9e680626-05e0-4087-91c7-cb6bf1cb3c1e, 8f188d4c-010a-4f7e-a789-736dd272a278]":{"productId":"6af5eda5-9711-432f-95b4-f139cce4c1d4","productName":"prod11","serviceId":"da688a40-5619-4ca7-ae14-c0c3e03d2f6d","serviceType":0,"billingInfo":{"billingId":"8f188d4c-010a-4f7e-a789-736dd272a278","billingMode":1,"basePrice":20.0,"periodType":3,"basicPrice":10.0,"cyclePrice":20.0,"unitPrice":null,"unitType":null},"commonServiceAttrValue":null},"[4bb181ec-dd62-49f0-94fe-5a92cbb5a003, 8f188d4c-010a-4f7e-a789-736dd272a278]":{"productId":"6af5eda5-9711-432f-95b4-f139cce4c1d4","productName":"prod11","serviceId":"da688a40-5619-4ca7-ae14-c0c3e03d2f6d","serviceType":0,"billingInfo":{"billingId":"8f188d4c-010a-4f7e-a789-736dd272a278","billingMode":1,"basePrice":20.0,"periodType":3,"basicPrice":10.0,"cyclePrice":20.0,"unitPrice":null,"unitType":null},"commonServiceAttrValue":null},"[dc40d4d2-7ed9-48cd-bce6-dfc8a85f885c, 00b5d938-b1d0-4f6c-a28a-e5d89e1cfc6d]":{"productId":"cffc4d51-7de5-4328-b135-b80d14aed0f6","productName":"disk-0424","serviceId":"da262e05-5d4d-429f-a9e6-f798c239ae76","serviceType":1,"billingInfo":{"billingId":"00b5d938-b1d0-4f6c-a28a-e5d89e1cfc6d","billingMode":2,"basePrice":10.0,"periodType":3,"basicPrice":null,"cyclePrice":null,"unitPrice":10.0,"unitType":0.0},"commonServiceAttrValue":null},"[0c6f1459-4186-4d33-98ad-7fb75e185169, 4592e69f-8bfb-469a-a221-3e5ee426c8dd]":{"productId":"9ad6ea6f-73b9-4c5d-9af7-2541550035f8","productName":"产品wutao1","serviceId":"d0b8d8f2-bfa8-4c49-bff4-83b45d0dc954","serviceType":0,"billingInfo":{"billingId":"4592e69f-8bfb-469a-a221-3e5ee426c8dd","billingMode":1,"basePrice":5.0,"periodType":5,"basicPrice":10.0,"cyclePrice":0.0,"unitPrice":null,"unitType":null},"commonServiceAttrValue":null},"[ec3b42d8-bd43-42b1-8a1d-24880bacd015, 396d70db-a15e-411e-be10-08c0a5131219]":{"productId":"09e2f9f7-77f4-4211-8e44-9645006f3817","productName":"entProd","serviceId":"e98343b7-2e4d-4542-b552-d153060866ad","serviceType":1,"billingInfo":{"billingId":"396d70db-a15e-411e-be10-08c0a5131219","billingMode":2,"basePrice":10.0,"periodType":3,"basicPrice":null,"cyclePrice":null,"unitPrice":20.0,"unitType":0.0},"commonServiceAttrValue":null},"[4681a39c-ca3b-467d-b649-a4c51dd1be3b, 47bec1f9-8be5-430f-b116-a6f880d11398]":{"productId":"c7f3f2f2-ed3a-42e7-b30a-463de2216ce8","productName":"forWTproduct","serviceId":"923c22f7-afac-4285-b521-7db6ff16f9c8","serviceType":0,"billingInfo":{"billingId":"47bec1f9-8be5-430f-b116-a6f880d11398","billingMode":1,"basePrice":20.0,"periodType":3,"basicPrice":10.0,"cyclePrice":10.0,"unitPrice":null,"unitType":null},"commonServiceAttrValue":null},"[74cbbc64-f5ea-4f0f-8b1d-38887bad0edc, 11662512-ac3e-46dc-8128-376da994413f]":{"productId":"892d2f06-0fcc-4842-bc5e-7dd55ba8b18d","productName":"prod123","serviceId":"5f7f7388-0a6c-4e18-9ddd-c28548cc5de9","serviceType":0,"billingInfo":{"billingId":"11662512-ac3e-46dc-8128-376da994413f","billingMode":1,"basePrice":30.0,"periodType":3,"basicPrice":10.0,"cyclePrice":20.0,"unitPrice":null,"unitType":null},"commonServiceAttrValue":null},"[365fb933-1a6c-47bb-97b0-cb0fe4d3978d, 3ed7ac27-41c8-4850-bdcd-5df4a652ad09]":{"productId":"646f6b54-ac98-4f04-87fc-e0852a26d562","productName":"vm-4c8g80g","serviceId":"4f13635e-5047-4ca7-91d0-be9584a196b3","serviceType":0,"billingInfo":{"billingId":"3ed7ac27-41c8-4850-bdcd-5df4a652ad09","billingMode":1,"basePrice":20.0,"periodType":5,"basicPrice":10.0,"cyclePrice":0.0,"unitPrice":null,"unitType":null},"commonServiceAttrValue":null}}}}.resultContent)
       
    }

    saveOrder(payload: PayLoad[]): Promise<any> {
        let api = this.restApiCfg.getRestApi('hosts.order.add');
        return this.restApi.request(api.method, api.url, undefined, undefined, payload)
                    .then(res => {
                                if(res.resultCode !== "100"){
                                    throw "订购失败";
                                }
                                return res.resultContent;
                            });
    }
    addCart(payload: PayLoad[]): Promise<any> {
        let api = this.restApiCfg.getRestApi('shopping.cart.add');
        return this.restApi.request(api.method, api.url, undefined, undefined, payload)
                    .then(res => {
                                if(res.resultCode !== "100"){
                                    throw "加入购物车失败";
                                }
                                return res.resultContent;
                            });
    }
    
    getNetwork(platformId:string, zoneId:string) : Promise<Network[]> {
        const api = this.restApiCfg.getRestApi("enterprise.network.get");

        let pathParams = [
            {
                key: 'platformId',
                value: platformId
            },
            {
                key: 'zoneId',
                value: zoneId
            },
            {
                key : 'enterPriseId',
                // value: "868a8d22-0976-48c3-b080-e03481ca1c43"
                value: this.userInfo.enterpriseId
            }
        ];
        const request = this.restApi.request(api.method, api.url, pathParams, undefined, undefined)
                            .then(res => {
                                if(res.resultCode !== "100"){
                                    throw "CLOUD_HOST.GET_NETWORK_FAILURE";
                                }
                                return res.resultContent.networkItems;
                            });
        return request;
    }

    getImage(platformId:string,imageType:string,startupResouce:string): Promise<any> {

        const api = this.restApiCfg.getRestApi("platform.image.post");

        let pathParams = {
            imageType: imageType,
            enterpriseId: this.userInfo.enterpriseId,
            platformId: platformId,
            startupResouce: startupResouce,
        }
        
        return this.restApi.request(api.method, api.url, undefined, undefined, pathParams)
                    .then(res => {
                            if(res.resultCode !== "100"){
                                throw "CLOUD_HOST.GET_IMAGE_FAILURE";
                            }
                            return res.resultContent.imageItems;
                        });

        // return Promise.resolve({"resultCode":"100","detailDescription":null,"resultContent":{"enterpriseId":"5b2967d4-5d18-482c-95c6-b4aeab40bde9","platformId":"eb3f4908-873c-4e68-b759-8303491ea502","platformType":null,"imageItems":[{"imageId":"9f196ebc-8fbf-48ab-8b23-ec8254f95a21","imageType":0,"osType":1,"imageName":"Centos-6.5","imageCode":null,"imageDisplayName":"Centos-6.5_new","capacity":13287936},{"imageId":"3bd9ec0b-9a75-4e7b-a648-6e030f6dcbc1","imageType":0,"osType":0,"imageName":"windows-server-2008","imageCode":null,"imageDisplayName":"windows-server-2008_new","capacity":13287936},{"imageId":"c57e2eaf-bb49-4049-ac7e-787223308951","imageType":0,"osType":0,"imageName":"cirros","imageCode":null,"imageDisplayName":"cirros","capacity":13287936}]}}.resultContent.imageItems)

    }

    unitType = this.dict.get({ 
        owner : "PACKAGE_BILLING",
        field : "PERIOD_TYPE"
    });
}
