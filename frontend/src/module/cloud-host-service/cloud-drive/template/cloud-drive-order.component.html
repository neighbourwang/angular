<div class="page-content cloud_host_order">
	<div class="col-md-9">
		<h1 class="page-content-header">创建云硬盘</h1>
		<!-- <my-date-picker [options]="myDatePickerOptions" -->
               <!-- (dateChanged)="onDateChanged($event)"></my-date-picker> -->
		<ul class="left-box">
			<li>
				<div class="col-md-1 li-title">
					<p><span class="icon-location"></span><br>区域</p>
				</div>
				<div class="col-md-12 li-content">
					<div class="col-md-2 content-title">云平台</div>
					<div class="col-md-10 btn-group" data-toggle="buttons">
						<label *ngFor="let value of configs.platform.valueList;" (click)="sendModule.platform = value" class="btn btn-default" [ngClass]="{'active': sendModule.platform.id === value.id}">
							<input type="radio" name="location" autocomplete="off"> {{ value.displayName }}
						</label>
					</div>
					<div class="col-md-2 content-title">可用区</div>
					<div class="col-md-10 btn-group" data-toggle="buttons">
						<label 
							*ngFor="let value of configs.zone.mapValueList[sendModule.platform.id];" 
							(click)="sendModule.zone = value" 
							class="btn btn-default" [ngClass]="{'active': sendModule.zone.id === value.id}">
							<input type="radio" name="zone" autocomplete="off"> {{ value.displayName }}
						</label>
					</div>
					<div class="col-md-2"></div>
					<div class="col-md-10 text-tip">云硬盘只能挂载到同一可用区下的云主机实例，订购成功后不支持更换云硬盘的区域和可用区；请谨慎选择</div>
				</div>
			</li>
			
			<li>
				<div class="col-md-1 li-title">
					<p><span class="icon-password"></span><br>配置选项</p>
				</div>
				<div class="col-md-12 li-content">
					<div class="col-md-2 content-title" click-outside (clickOutside)="onClickOutside($event)">云硬盘</div>
					<div class="col-md-10 btn-group" id="cloud-desk" data-toggle="buttons">
						<label class="btn btn-default active">
							<input type="radio" name="mirror" autocomplete="off" checked=""> 空白盘
						</label>
						<label class="btn btn-default" id="popover_never" rel="popover" data-placement="bottom" data-content="">
							<input type="radio" name="mirror" autocomplete="off"> 从未挂载盘
						</label>
						<label class="btn btn-default" id="popover_backup" rel="popover" data-placement="bottom" data-content="">
							<input type="radio" name="mirror" autocomplete="off"> 从备份恢复
						</label>
						<div id="popover_never_content" style="display: none">
						  <div class="modal-body"> <h4>Text in a modal</h4> <p>Duis mollis, est non commodo luctus, nisi erat porttitor ligula.</p> <h4>Popover in a modal</h4> <p>This  should have tooltips on hover.</p> <hr> <h4>Overflowing text to show scroll behavior</h4> <p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p> <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor.</p> <p>Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla.</p> <p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p> </div>
						</div>
						<div id="popover_backup_content" style="display: none">
						  <div class="modal-body"> <h4>Text in a modal</h4> <p>Duis mollis, est non commodo luctus, nisi erat porttitor ligula.</p> <h4>Popover in a modal</h4> <p>This  should have tooltips on hover.</p> <hr> <h4>Overflowing text to show scroll behavior</h4> <p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p> <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor.</p> <p>Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla.</p> <p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p> </div>
						</div>
					</div>				
				</div>
			</li>
			<li>
				<div class="col-md-1 li-title">
					<p><span class="icon-amount"></span><br>购买量</p>
				</div>
				<div class="col-md-12 li-content">
					<div class="col-md-12 no-padding mb20">
						<div class="col-md-2 content-title">购买时长</div>
						<div class="col-md-2 no-padding mr10">
							<select [disabled]="timeForever" [(ngModel)]="sendModule.timelineunit" (change)="sendModule.timelineunit = value" class="form-control">
								<option
								*ngFor="let value of configs.timelineunit.valueList;"
								[ngValue]="value" >{{ value.displayName }}</option>
							</select>
						</div>
						<div class="col-md-2 no-padding mr10">
							<input [disabled]="timeForever" [(ngModel)]="sendModule.timeline.value" type="text" class="form-control">
						</div>
						<div class="col-md-2 no-padding">
							<!-- <label class="btn btn-default" (click)="timeForever = timeForever ? false : true" [ngClass]="{'active': timeForever}">
								永久
							</label> -->
						</div>
					</div>

					<div class="col-md-12 no-padding mb20">
						<div class="col-md-2 content-title">购买量</div>
						<div class="col-md-2 no-padding mr10">
							<select [(ngModel)]="payLoad.quality" (change)="payLoad.quality = value" class="form-control">
								<option [ngValue]="1">1台</option>
								<option [ngValue]="2">2台</option>
								<option [ngValue]="3">3台</option>
								<option [ngValue]="4">4台</option>
								<option [ngValue]="5">5台</option>
							</select>
							<!--<div class="btn-group input-step-compontent">
								<button type="button" class="btn btn-default col-md-3"><span class="glyphicon glyphicon-minus"></span></button>
								<input type="text" class="form-control" value="20">
								<button type="button" class="btn btn-default clickable"><span class="glyphicon glyphicon-plus"></span></button>
							</div>-->
						</div>
						<!--<div class="col-md-2 no-padding lh32">台</div>-->
					</div>
				</div>
			</li>
		</ul>
	</div>
	 <!-- [ngClass]="{'right-fixed' : rightFixed}" (window:scroll)="onScroll($event)" -->
	<div class="col-md-3 no-padding right-box">
		<div class="col-md-12 no-padding title-box">
			<div class="col-md-6"><button class="btn button-gray-gradient"><span class="icon-shopping"></span>查看购物车 0</button></div>
			<div class="col-md-6"><button class="btn button-gray-gradient"><span class="icon-delete"></span>清空购物车</button></div>
		</div>
		<div class="col-md-12 content-box">
			<h3 class="boder-gray-bottom-title">当前配置</h3>
			<h4 class="cloud-title font-green">区域</h4>
			<p class="cloud-p">云平台: {{ sendModule.platform ? sendModule.platform.displayName : "" }}</p>
			<p class="cloud-p">可用区: {{ sendModule.zone ? sendModule.zone.displayName : "" }}</p>
			<h4 class="cloud-title font-green">网络</h4>
			<p class="cloud-p">网络类型: {{ sendModule.networktype ? sendModule.networktype.displayName : "" }}</p>
			<p class="cloud-p">安全组: {{ sendModule.securitygroup ? sendModule.securitygroup.displayName : "" }}</p>
			<h4 class="cloud-title font-green">实例规格</h4>
			<p class="cloud-p">CPU: {{ sendModule.cpu ? sendModule.cpu.displayName : "" }}</p>
			<p class="cloud-p">内存: {{ sendModule.mem ? sendModule.mem.displayName : "" }}</p>
			<h4 class="cloud-title font-green">云主机源</h4>
			<p class="cloud-p">启动源: {{ sendModule.startupsource ? sendModule.startupsource.displayName : "" }}</p>
			<p class="cloud-p">镜像类型: {{ sendModule.imagetype ? sendModule.imagetype.displayName : "" }}</p>
			<p class="cloud-p">镜像名称: {{ sendModule.os ? sendModule.os.displayName : "" }}</p>
			<h4 class="cloud-title font-green">储存</h4>
			<p class="cloud-p">启动盘: {{ sendModule.bootstorage ? sendModule.bootstorage.displayName : "" }} / {{ sendModule.bootsize ? sendModule.bootsize.displayName : "" }}</p>
			<!-- <p class="cloud-p">数据盘: {{ sendModule.stroage ? sendModule.stroage.displayName : "" }} / {{ sendModule.storagesize ? sendModule.storagesize.displayName : "" }}</p> -->
			<h4 class="cloud-title font-green">购买量</h4>
			<p class="cloud-p">购买时长: {{ sendModule.timelineunit ? sendModule.timelineunit.displayName : ""}} / {{ sendModule.timeline ? sendModule.timeline.value : ""}}</p>
			<p class="cloud-p">购买量: {{payLoad.quality}}台</p>
			<div class="cloud-line"></div>
			<h4 class="cloud-title">费用总计：<font class="font-orange">¥{{ this.sendModule.timeline ? this.parseInt((this.parseInt(this.sendModule.cpu.displayName)*20 + ((this.parseInt(this.sendModule.mem.displayName) < 50) ? this.parseInt(this.sendModule.mem.displayName)*10 : this.parseInt(this.sendModule.mem.displayName)*0.1 ) + 20 +this.parseInt(this.sendModule.timeline.value ? this.sendModule.timeline.value*1.21 : 1 ))*this.parseInt(this.payLoad.quality)*100)/100 : 0 }}</font></h4>
			<div class="col-md-12 colud-order-button">
				<div class="col-md-6"><button (click)="buyNow()" class="btn button-orange-deep">立即购买</button></div>
				<div class="col-md-6"><button class="btn button-orange-light">加入购物车</button></div>
			</div>
		</div>
	</div>
</div>
