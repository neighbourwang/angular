<div class="page-content cloud_host_order cloud_drive_order">

    <div class="col-md-12">
        <h1 class="page-content-header" (click)="payLoadFormat()">阿里云主机实例订购</h1>
        <ul class="page-box" style="padding-left: 0;">
            <!-- 计费方式 -->

            <li>
                <div class="col-md-1 li-title">
                    <p><span class="icon-configure"></span>计费方式：</p>
                </div>
                <div class="col-md-12 li-content">
                    <div class="col-md-12">
                        <button class="btn-selected-green btn button-gray-gradient" [ngClass]='{"selected":selectedOrderVmPage.selectedChargeType=="0"}' (click)='selectedOrderVmPage.selectedChargeType="0";' style="display: inline">包年包月<sup style="width: 20px; height: 20px; color: orange;">惠</sup></button>
                        <button class="btn-selected-green btn button-gray-gradient" [ngClass]='{"selected":selectedOrderVmPage.selectedChargeType=="1"}' (click)='selectedOrderVmPage.selectedChargeType="1";' style="display: inline">按量付费</button>
                        <span class="glyphicon glyphicon-question-sign"></span>
                    </div>
                </div>
            </li>


            <!-- 地域 -->

            <li>
                <div class="col-md-1 li-title">
                    <p><span class="icon-location"></span>地域：</p>
                </div>
                <div class="col-md-12 li-content">
                    <div class="col-md-12">
                        <div class="region" *ngFor="let region of this.regions;" [ngClass]='{"selected":region.selected}'>
                            <div class="regionName" (click)="selectRegion(region);">{{region.LocalName}}</div>
                            <div class="regionArea">
                                <span class="txt">{{(region.selectedArea && region.selectedArea.LocalName)||"随机分配"}}</span>
                                <span class="caret"></span>
                                <select [(ngModel)]="selectedOrderVmPage.selectedArea" (change)="AreaChanged(region);">
                                   <option *ngFor="let item of region.areas" [ngValue]="item">
							           {{item.LocalName}}
                                   </option>
                                </select>

                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 text-tip">不同地域的实例之间内网互不相通；选择靠近您客户的地域，可降低网络时延、提高您客户的访问速度，<a href="javascript:void(0);">教我选择>></a><span class="glyphicon glyphicon-question-sign"></span>
                    </div>

                </div>
            </li>

            <!-- 网络 -->
            <li>
                <div class="col-md-1 li-title">
                    <p><span class="icon-configure"></span>网络</p>
                </div>
                <div class="col-md-12 li-content">

                    <div class="col-md-12 mgb20">
                        <button class="btn button-gray-gradient btn-selected-green" [ngClass]='{"selected":selectedOrderVmPage.selected}' (click)="selectedOrderVmPage.selected=true;" style="display: inline">经典网络</button>
                        <button class="btn button-gray-gradient btn-selected-green" [ngClass]='{"selected":selectedOrderVmPage.selected}' (click)="selectedOrderVmPage.selected=true;">专有网络</button>
                        <span class="glyphicon glyphicon-question-sign"></span>
                    </div>
                    <div class="col-md-12 text-tip">
                        <span> 购买后不能更换网络类型 </span>
                    </div>
                    <div class="col-md-12 mgb20">
                        <button class="btn button-gray-gradient btn-selected-green" [ngClass]='{"selected":selectedOrderVmPage.selected}' (click)="selectedOrderVmPage.selected=true;" style="display: inline">选择安全组</button>
                        <span class="glyphicon glyphicon-question-sign"></span>
                    </div>
                    <div class="col-md-12 text-tip">
                        <span> 安全组类似防火墙功能，用于设置网络访问控制，您也可以到管理控制台 <a href="javascript:void(0);">新建安全组>></a> <a href="javascript:void(0);">教我选择>></a> </span>
                    </div>

                </div>
            </li>

            <!-- 实例 -->
            <li class="li_line_backgroud">
                <div class="col-md-1 li-title">
                    <p><span></span>实例：</p>
                </div>
                <div class="col-md-12 li-content">
                    <div class="col-md-12 mgb20">
                        <button class="btn button-gray-gradient btn-selected-green" [ngClass]='{"selected":selectedOrderVmPage.selected}' (click)="selectedOrderVmPage.selected=true;" style="display: inline">系列 I</button>
                        <button class="btn button-gray-gradient btn-selected-green" [ngClass]='{"selected":selectedOrderVmPage.selected}' (click)="selectedOrderVmPage.selected=true;">系列 II</button>
                        <span class="glyphicon glyphicon-question-sign"></span>
                        <span class="mgl20">I/O实例优化</span>
                        <span class="glyphicon glyphicon-question-sign"></span>
                        <div class="text-tip">系列之间不能互相升降配</div>
                        <div>
                        </div>
                    </div>
                </div>
            </li>

            <!-- 带宽 -->
            <li class="li_line_backgroud">
                <div class="col-md-1 li-title">
                    <p><span></span>带宽：</p>
                </div>
                <div class="col-md-12 li-content">
                    <div class="col-md-12">
                        <button class="btn button-gray-gradient btn-selected-green" [ngClass]='{"selected":selectedOrderVmPage.selected}' (click)="selectedOrderVmPage.selected=true;">按固定带宽</button>
                        <button class="btn button-gray-gradient btn-selected-green" [ngClass]='{"selected":selectedOrderVmPage.selected}' (click)="selectedOrderVmPage.selected=true;">按使用流量</button>
                        <span class="glyphicon glyphicon-question-sign"></span>
                    </div>
                    <div class="col-md-12">
                        预付费模式，带宽费用合并在ECS实例中收取
                    </div>
                    <div class="col-md-12">

                        <div style="display: inline">
                            <count-bar [step]="sendModulediskstepsizeattrValue" [max]="sendModulediskmaxsizeattrValue" [min]="sendModulediskinitialsizeattrValue" [stepCheck]=true [value]="sendModulediskinitialsizeattrValue" (output)="outputValue($event)">
                            </count-bar>台
                        </div>

                    </div>
                    <div class="col-md-12">
                        系统会分配公网IP(不能解绑),若不需要分配公网IP,请选择带宽值0M。
                    </div>
                    <div class="col-md-12">
                        阿里云免费提供最高5Gbps的恶意流量攻击防护，<a href="javascript: void(0);">了解更多>></a> <a href="javascript: void(0);">提升防护能力>></a>
                    </div>
                </div>
            </li>

            <!-- 镜像 -->
            <li>
                <div class="col-md-1 li-title">
                    <p><span class="icon-amount"></span>镜像：</p>
                </div>
                <div class="col-md-12 li-content">
                    <div class="col-md-12 mgb20 form-group">
                        <button class="btn button-gray-gradient btn-selected-green" [ngClass]='{"selected":selectedOrderVmPage.selected}' (click)="selectedOrderVmPage.selected=true;">公共镜像</button>
                        <button class="btn button-gray-gradient btn-selected-green" [ngClass]='{"selected":selectedOrderVmPage.selected}' (click)="selectedOrderVmPage.selected=true;">自定义镜像</button>
                        <button class="btn button-gray-gradient btn-selected-green" [ngClass]='{"selected":selectedOrderVmPage.selected}' (click)="selectedOrderVmPage.selected=true;">共享镜像</button>
                        <span class="glyphicon glyphicon-question-sign"></span>
                    </div>
                    <div class="col-md-12 mgb20 form-group">
                        <select class="form-control select_style">
                            <option>请选择操作系统类别</option>
                        </select>
                        <select class="form-control select_style">
                            <option>请选择版本</option>
                        </select>
                        <a href="javascript:void(0);">
                        较我选择>>
                        </a>
                    </div>
                </div>
            </li>

            <!-- 存储 -->
            <li>
                <div class="col-md-1 li-title">
                    <p><span class="icon-amount"></span>存储：</p>
                </div>
                <div class="col-md-12 li-content">
                    <div class="col-md-12 mgb20 form-group">
                        <span>系统盘：</span>
                        <select class="form-control select_style" [(ngModel)]="selectedOrderVmPage.selectedDisk" (change)="DiskChanged();">
							<option value="">请选择云盘</option>
                            <option *ngFor="let disktype of selectedOrderVmPage.selectedArea.AvailableDiskCategories.DiskCategories" [value]="disktype">{{displayDiskType(disktype)}}</option>
						</select>
                        <input class="form-control input_style" [(ngModel)]="selectedOrderVmPage.diskCount" (change)="calculatePrice();" />G 1240 IOPS 系统盘设备名：/dev/xvda
                        <br />
                        <span class="text-tip">如何选择SSD云盘/ 高效云盘/ 普通云盘，请看 <a href="javascript: void(0);">详细说明</a></span>
                    </div>
                    <!-- 
                    <div class="col-md-12 mgb20">
                        <span>数据盘：</span>
                        <div style="display: inline; width: 60px; height: 60px; line-height: 60px; background: #2bd2ca; text-align: center;">
                            +
                        </div>
                        <span>增加数据盘</span>
                        <div class="text-tip" style="display: inline;">
                            您还可选配4块；
                        </div>
                    </div>
                    -->
                </div>
            </li>

            <!-- 购买量 -->
            <li>
                <div class="col-md-1 li-title">
                    <p><span class="icon-amount"></span>购买量：</p>
                </div>
                <div class="col-md-12 li-content">
                    <div class="col-md-12 mgb20">
                        <div class="btn-chain" *ngFor="let mnum of this.service.quantity;" [ngClass]="{selected: selectedOrderVmPage.selectedQuantity==mnum.monthnum}" (click)="selectedOrderVmPage.selectedQuantity=mnum.monthnum; show(mnum);">
                            <div class="btn-content">
                                {{mnum.displayValue}}
                                <span *ngIf="mnum.monthnum<10&&(selectedOrderVmPage.selectedQuantity==mnum.monthnum)">个月
                            </span>
                                <span *ngIf="mnum.monthnum>=10">年
                            </span>
                            </div>
                        </div>
                        <input type="checkbox" class="mgl10" />自动续费<span class="glyphicon glyphicon-question-sign"></span>

                    </div>
                </div>
            </li>

            <!-- 安全设置 -->
            <li>
                <div class="col-md-1 li-title">
                    <p><span class="icon-amount"></span>安全设置：</p>
                </div>
                <div class="col-md-12 li-content">
                    <div class="col-md-12 mgb20">
                        <button class="btn button-gray-gradient btn-selected-green" [ngClass]='{"selected":selectedOrderVmPage.selected}' (click)="selectedOrderVmPage.selected=true;">设置密码
                        </button>
                        <div class="text-tip">
                            请牢记您所设置的密码，如遗忘可登陆ECS控制台重置密码
                        </div>
                    </div>
                    <div class="col-md-12 mgb20">
                        <div>
                            <div class="form-group has-feedback" [ngClass]="{'has-error':v.result.password}">
                                登陆密码：<input class="mgl20 form-control input_style" [(ngModel)]="selectedOrderVmPage.Password" (ngModelChange)="checkForm('password')" /> 8-30个字符，且同时包含三项(大写字母，小写字母，数字或特殊符号)
                            </div>
                            <div class="form-group has-feedback" [ngClass]="{'has-error':v.result.passwordCheck}">
                                确认密码：<input class="mgl20 form-control input_style" [(ngModel)]="selectedOrderVmPage.passwordCheck" (ngModelChange)="checkForm('passwordCheck')" />
                            </div>
                            <div class="form-group has-feedback" [ngClass]="{'has-error':v.result.password}">
                                实例名称：<input class="mgl20 form-control input_style" [(ngModel)]="selectedOrderVmPage.InstanceName" (ngModelChange)="checkForm('alicloud_instance')" placeholder="如不填写，系统自动默认生成" /> 长度为2-128个字符，以大小写字母或中文开头，可包含数字，".","_"或"-"
                            </div>
                        </div>

                    </div>
                </div>
            </li>

            <li class="li_line_backgroud">
                <div class="col-md-1 li-title">
                    <p><span></span>当前配置：</p>
                </div>
                <div class="col-md-12 li-content">
                    <div class="col-md-12">
                        <div class=" float-right">
                            <a href="javascript: void(0);">购买须知>></a>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="col-md-4">
                            <span>地域：</span>
                            <span>{{selectedOrderVmPageLocalName || ""}} ({{selectedOrderVmPageselectedAreaLocalName || ""}})</span>
                        </div>
                        <div class="col-md-4">
                            <span>云盘：</span>
                            <span>{{selectedOrderVmPagediskCount || ""}}G {{selectedOrderVmPageselectedDisk || ""}}</span>
                        </div>
                        <div class="col-md-4">
                            <span>数量：</span>
                            <span>{{selectedOrderVmPagecount || ""}}</span>
                        </div>
                    </div>
                </div>
            </li>

        </ul>

        <ul class="col-md-12 no-padding bottom-box">
            <li>
                <div class="col-md-12" style="padding: 35px 20px 25px 40px;">
                    <div class="float-left">
                        <span>配置费用：</span>
                        <span>￥0.225/时</span>
                    </div>
                    <div class="float-right">
                        <button class="btn button-gray-gradient btn-selected-green" [ngClass]='{"selected":selectedOrderVmPage.selected}' (click)="selectedOrderVmPage.selected=true; buyNow();" class="btn button-orange-light">立即购买</button>
                    </div>
                </div>
            </li>
        </ul>
    </div>


</div>

<fc-notice #notice title="{{modalTitle}}" msg="{{modalMessage}}" ot="{{modalOKTitle}}" (of)="okClicked()"></fc-notice>